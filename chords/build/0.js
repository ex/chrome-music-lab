webpackJsonp([0],[,function(t,e,i){var n;n=function(){"use strict";function t(t){return void 0===t}function e(t){return"function"==typeof t}var i;if(t(window.AudioContext)&&(window.AudioContext=window.webkitAudioContext),t(window.OfflineAudioContext)&&(window.OfflineAudioContext=window.webkitOfflineAudioContext),t(AudioContext))throw new Error("Web Audio is not supported in this browser");i=new AudioContext,e(AudioContext.prototype.createGain)||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),e(AudioContext.prototype.createDelay)||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),e(AudioContext.prototype.createPeriodicWave)||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),e(AudioBufferSourceNode.prototype.start)||(AudioBufferSourceNode.prototype.start=AudioBufferSourceNode.prototype.noteGrainOn),e(AudioBufferSourceNode.prototype.stop)||(AudioBufferSourceNode.prototype.stop=AudioBufferSourceNode.prototype.noteOff),e(OscillatorNode.prototype.start)||(OscillatorNode.prototype.start=OscillatorNode.prototype.noteOn),e(OscillatorNode.prototype.stop)||(OscillatorNode.prototype.stop=OscillatorNode.prototype.noteOff),e(OscillatorNode.prototype.setPeriodicWave)||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioNode.prototype._nativeConnect=AudioNode.prototype.connect,AudioNode.prototype.connect=function(e,i,n){if(e.input)Array.isArray(e.input)?(t(n)&&(n=0),this.connect(e.input[n])):this.connect(e.input,i,n);else try{e instanceof AudioNode?this._nativeConnect(e,i,n):this._nativeConnect(e,i)}catch(t){throw new Error("error connecting to node: "+e)}};var n=function(e,i){t(e)||1===e?this.input=this.context.createGain():e>1&&(this.input=new Array(e)),t(i)||1===i?this.output=this.context.createGain():i>1&&(this.output=new Array(e))};n.prototype.set=function(e,i,o){if(this.isObject(e))o=i;else if(this.isString(e)){var r={};r[e]=i,e=r}for(var s in e){i=e[s];var a=this;if(s.indexOf(".")!==-1){for(var h=s.split("."),u=0;u<h.length-1;u++)a=a[h[u]];s=h[h.length-1]}var l=a[s];t(l)||(n.Signal&&l instanceof n.Signal||n.Param&&l instanceof n.Param?l.value!==i&&(t(o)?l.value=i:l.rampTo(i,o)):l instanceof AudioParam?l.value!==i&&(l.value=i):l instanceof n?l.set(i):l!==i&&(a[s]=i))}return this},n.prototype.get=function(i){t(i)?i=this._collectDefaults(this.constructor):this.isString(i)&&(i=[i]);for(var o={},r=0;r<i.length;r++){var s=i[r],a=this,h=o;if(s.indexOf(".")!==-1){for(var u=s.split("."),l=0;l<u.length-1;l++){var c=u[l];h[c]=h[c]||{},h=h[c],a=a[c]}s=u[u.length-1]}var p=a[s];this.isObject(i[s])?h[s]=p.get():n.Signal&&p instanceof n.Signal?h[s]=p.value:n.Param&&p instanceof n.Param?h[s]=p.value:p instanceof AudioParam?h[s]=p.value:p instanceof n?h[s]=p.get():e(p)||t(p)||(h[s]=p)}return o},n.prototype._collectDefaults=function(e){var i=[];if(t(e.defaults)||(i=Object.keys(e.defaults)),!t(e._super))for(var n=this._collectDefaults(e._super),o=0;o<n.length;o++)i.indexOf(n[o])===-1&&i.push(n[o]);return i},n.prototype.toString=function(){for(var t in n){var i=t[0].match(/^[A-Z]$/),o=n[t]===this.constructor;if(e(n[t])&&i&&o)return t}return"Tone"},n.context=i,n.prototype.context=n.context,n.prototype.bufferSize=2048,n.prototype.blockTime=128/n.context.sampleRate,n.prototype.sampleTime=1/n.context.sampleRate,n.prototype.dispose=function(){return this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this};var o=null;n.prototype.noGC=function(){return this.output.connect(o),this},AudioNode.prototype.noGC=function(){return this.connect(o),this},n.prototype.connect=function(t,e,i){return Array.isArray(this.output)?(e=this.defaultArg(e,0),this.output[e].connect(t,0,i)):this.output.connect(t,e,i),this},n.prototype.disconnect=function(t){return Array.isArray(this.output)?(t=this.defaultArg(t,0),this.output[t].disconnect()):this.output.disconnect(),this},n.prototype.connectSeries=function(){if(arguments.length>1)for(var t=arguments[0],e=1;e<arguments.length;e++){var i=arguments[e];t.connect(i),t=i}return this},n.prototype.connectParallel=function(){var t=arguments[0];if(arguments.length>1)for(var e=1;e<arguments.length;e++){var i=arguments[e];t.connect(i)}return this},n.prototype.chain=function(){if(arguments.length>0)for(var t=this,e=0;e<arguments.length;e++){var i=arguments[e];t.connect(i),t=i}return this},n.prototype.fan=function(){if(arguments.length>0)for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},AudioNode.prototype.chain=n.prototype.chain,AudioNode.prototype.fan=n.prototype.fan,n.prototype.defaultArg=function(e,i){if(this.isObject(e)&&this.isObject(i)){var n={};for(var o in e)n[o]=this.defaultArg(i[o],e[o]);for(var r in i)n[r]=this.defaultArg(e[r],i[r]);return n}return t(e)?i:e},n.prototype.optionsObject=function(t,e,i){var n={};if(1===t.length&&this.isObject(t[0]))n=t[0];else for(var o=0;o<e.length;o++)n[e[o]]=t[o];return this.isUndef(i)?n:this.defaultArg(n,i)},n.prototype.isUndef=t,n.prototype.isFunction=e,n.prototype.isNumber=function(t){return"number"==typeof t},n.prototype.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},n.prototype.isBoolean=function(t){return"boolean"==typeof t},n.prototype.isArray=function(t){return Array.isArray(t)},n.prototype.isString=function(t){return"string"==typeof t},n.noOp=function(){},n.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},n.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},n.State={Started:"started",Stopped:"stopped",Paused:"paused"},n.prototype.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},n.prototype.dbToGain=function(t){return Math.pow(2,t/6)},n.prototype.gainToDb=function(t){return 20*(Math.log(t)/Math.LN10)},n.prototype.now=function(){return this.context.currentTime},n.now=function(){return n.context.currentTime},n.extend=function(e,i){function o(){}t(i)&&(i=n),o.prototype=i.prototype,e.prototype=new o,e.prototype.constructor=e,e._super=i};var r=[];return n._initAudioContext=function(t){t(n.context),r.push(t)},n.setContext=function(t){n.prototype.context=t,n.context=t;for(var e=0;e<r.length;e++)r[e](t)},n.startMobile=function(){var t=n.context.createOscillator(),e=n.context.createGain();e.gain.value=0,t.connect(e),e.connect(n.context.destination);var i=n.context.currentTime;t.start(i),t.stop(i+1)},n._initAudioContext(function(t){n.prototype.blockTime=128/t.sampleRate,n.prototype.sampleTime=1/t.sampleRate,o=t.createGain(),o.gain.value=0,o.connect(t.destination)}),n.version="r7-dev",console.log("%c * Tone.js "+n.version+" * ","background: #000; color: #fff"),n}.call(e,i,e,t),/**
	 *  Tone.js
	 *  @author Yotam Mann
	 *  @license http://opensource.org/licenses/MIT MIT License
	 *  @copyright 2014-2016 Yotam Mann
	 */
!(void 0!==n&&(t.exports=n))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1)],__WEBPACK_AMD_DEFINE_RESULT__=function(Tone){"use strict";function getTransportBpm(){return Tone.Transport&&Tone.Transport.bpm?Tone.Transport.bpm.value:120}function getTransportTimeSignature(){return Tone.Transport&&Tone.Transport.timeSignature?Tone.Transport.timeSignature:4}function toNotationHelper(t,e,i,n){for(var o=this.toSeconds(t),r=this.notationToSeconds(n[n.length-1],e,i),s="",a=0;a<n.length;a++){var h=this.notationToSeconds(n[a],e,i),u=o/h,l=1e-6;if(1-u%1<l&&(u+=l),u=Math.floor(u),u>0){if(s+=1===u?n[a]:u.toString()+"*"+n[a],o-=u*h,o<r)break;s+=" + "}}return""===s&&(s="0"),s}Tone.Type={Default:"number",Time:"time",Frequency:"frequency",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",TransportTime:"transportTime",Ticks:"tick",Note:"note",Milliseconds:"milliseconds",Notation:"notation"},Tone.prototype.isNowRelative=function(){var t=new RegExp(/^\s*\+(.)+/i);return function(e){return t.test(e)}}(),Tone.prototype.isTicks=function(){var t=new RegExp(/^\d+i$/i);return function(e){return t.test(e)}}(),Tone.prototype.isNotation=function(){var t=new RegExp(/^[0-9]+[mnt]$/i);return function(e){return t.test(e)}}(),Tone.prototype.isTransportTime=function(){var t=new RegExp(/^(\d+(\.\d+)?\:){1,2}(\d+(\.\d+)?)?$/i);return function(e){return t.test(e)}}(),Tone.prototype.isNote=function(){var t=new RegExp(/^[a-g]{1}(b|#|x|bb)?-?[0-9]+$/i);return function(e){return t.test(e)}}(),Tone.prototype.isFrequency=function(){var t=new RegExp(/^\d*\.?\d+hz$/i);return function(e){return t.test(e)}}(),Tone.prototype.notationToSeconds=function(t,e,i){e=this.defaultArg(e,getTransportBpm()),i=this.defaultArg(i,getTransportTimeSignature());var n=60/e;"1n"===t&&(t="1m");var o=parseInt(t,10),r=0;0===o&&(r=0);var s=t.slice(-1);return r="t"===s?4/o*2/3:"n"===s?4/o:"m"===s?o*i:0,n*r},Tone.prototype.transportTimeToSeconds=function(t,e,i){e=this.defaultArg(e,getTransportBpm()),i=this.defaultArg(i,getTransportTimeSignature());var n=0,o=0,r=0,s=t.split(":");2===s.length?(n=parseFloat(s[0]),o=parseFloat(s[1])):1===s.length?o=parseFloat(s[0]):3===s.length&&(n=parseFloat(s[0]),o=parseFloat(s[1]),r=parseFloat(s[2]));var a=n*i+o+r/4;return a*(60/e)},Tone.prototype.ticksToSeconds=function(t,e){if(this.isUndef(Tone.Transport))return 0;t=parseFloat(t),e=this.defaultArg(e,getTransportBpm());var i=60/e/Tone.Transport.PPQ;return i*t},Tone.prototype.frequencyToSeconds=function(t){return 1/parseFloat(t)},Tone.prototype.samplesToSeconds=function(t){return t/this.context.sampleRate},Tone.prototype.secondsToSamples=function(t){return t*this.context.sampleRate},Tone.prototype.secondsToTransportTime=function(t,e,i){e=this.defaultArg(e,getTransportBpm()),i=this.defaultArg(i,getTransportTimeSignature());var n=60/e,o=t/n,r=Math.floor(o/i),s=o%1*4;o=Math.floor(o)%i;var a=[r,o,s];return a.join(":")},Tone.prototype.secondsToFrequency=function(t){return 1/t},Tone.prototype.toTransportTime=function(t,e,i){var n=this.toSeconds(t);return this.secondsToTransportTime(n,e,i)},Tone.prototype.toFrequency=function(t,e){return this.isFrequency(t)?parseFloat(t):this.isNotation(t)||this.isTransportTime(t)?this.secondsToFrequency(this.toSeconds(t,e)):this.isNote(t)?this.noteToFrequency(t):t},Tone.prototype.toTicks=function(t){if(this.isUndef(Tone.Transport))return 0;var e=Tone.Transport.bpm.value,i=0;if(this.isNowRelative(t))t=t.replace("+",""),i=Tone.Transport.ticks;else if(this.isUndef(t))return Tone.Transport.ticks;var n=this.toSeconds(t),o=60/e,r=n/o,s=r*Tone.Transport.PPQ;return Math.round(s+i)},Tone.prototype.toSamples=function(t){var e=this.toSeconds(t);return Math.round(e*this.context.sampleRate)},Tone.prototype.toSeconds=function(time,now){if(now=this.defaultArg(now,this.now()),this.isNumber(time))return time;if(this.isString(time)){var plusTime=0;this.isNowRelative(time)&&(time=time.replace("+",""),plusTime=now);var betweenParens=time.match(/\(([^)(]+)\)/g);if(betweenParens)for(var j=0;j<betweenParens.length;j++){var symbol=betweenParens[j].replace(/[\(\)]/g,""),symbolVal=this.toSeconds(symbol);time=time.replace(betweenParens[j],symbolVal)}if(time.indexOf("@")!==-1){var quantizationSplit=time.split("@");if(this.isUndef(Tone.Transport))throw new Error("quantization requires Tone.Transport");var toQuantize=quantizationSplit[0].trim();""===toQuantize&&(toQuantize=void 0),plusTime>0&&(toQuantize="+"+toQuantize,plusTime=0);var subdivision=quantizationSplit[1].trim();time=Tone.Transport.quantize(toQuantize,subdivision)}else{var components=time.split(/[\(\)\-\+\/\*]/);if(components.length>1){for(var originalTime=time,i=0;i<components.length;i++){var symb=components[i].trim();if(""!==symb){var val=this.toSeconds(symb);time=time.replace(symb,val)}}try{time=eval(time)}catch(t){throw new EvalError("cannot evaluate Time: "+originalTime)}}else time=this.isNotation(time)?this.notationToSeconds(time):this.isTransportTime(time)?this.transportTimeToSeconds(time):this.isFrequency(time)?this.frequencyToSeconds(time):this.isTicks(time)?this.ticksToSeconds(time):parseFloat(time)}return time+plusTime}return now},Tone.prototype.toNotation=function(t,e,i){var n=["1m","2n","4n","8n","16n","32n","64n","128n"],o=toNotationHelper.call(this,t,e,i,n),r=["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"],s=toNotationHelper.call(this,t,e,i,r);return s.split("+").length<o.split("+").length?s:o},Tone.prototype.fromUnits=function(t,e){if(!this.convert&&!this.isUndef(this.convert))return t;switch(e){case Tone.Type.Time:return this.toSeconds(t);case Tone.Type.Frequency:return this.toFrequency(t);case Tone.Type.Decibels:return this.dbToGain(t);case Tone.Type.NormalRange:return Math.min(Math.max(t,0),1);case Tone.Type.AudioRange:return Math.min(Math.max(t,-1),1);case Tone.Type.Positive:return Math.max(t,0);default:return t}},Tone.prototype.toUnits=function(t,e){if(!this.convert&&!this.isUndef(this.convert))return t;switch(e){case Tone.Type.Decibels:return this.gainToDb(t);default:return t}};var noteToScaleIndex={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},scaleIndexToNote=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return Tone.A4=440,Tone.prototype.noteToFrequency=function(t){var e=t.split(/(-?\d+)/);if(3===e.length){var i=noteToScaleIndex[e[0].toLowerCase()],n=e[1],o=i+12*(parseInt(n,10)+1);return this.midiToFrequency(o)}return 0},Tone.prototype.frequencyToNote=function(t){var e=Math.log(t/Tone.A4)/Math.LN2,i=Math.round(12*e)+57,n=Math.floor(i/12);n<0&&(i+=-12*n);var o=scaleIndexToNote[i%12];return o+n.toString()},Tone.prototype.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},Tone.prototype.midiToNote=function(t){var e=Math.floor(t/12)-1,i=t%12;return scaleIndexToNote[i]+e},Tone.prototype.noteToMidi=function(t){var e=t.split(/(\d+)/);if(3===e.length){var i=noteToScaleIndex[e[0].toLowerCase()],n=e[1];return i+12*(parseInt(n,10)+1)}return 0},Tone.prototype.midiToFrequency=function(t){return Tone.A4*Math.pow(2,(t-69)/12)},Tone}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=d[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(l(n.parts[r],e))}else{for(var s=[],r=0;r<n.parts.length;r++)s.push(l(n.parts[r],e));d[n.id]={id:n.id,refs:1,parts:s}}}}function o(t,e){for(var i=[],n={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a=r[1],h=r[2],u=r[3],l={css:a,media:h,sourceMap:u};n[s]?n[s].parts.push(l):i.push(n[s]={id:s,parts:[l]})}return i}function r(t,e){var i=_(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=b[b.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function s(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function a(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),r(t,e),e}function h(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),r(t,e),e}function u(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function l(t,e){var i,n,o,r;if(e.transform&&t.css){if(r=e.transform(t.css),!r)return function(){};t.css=r}if(e.singleton){var u=y++;i=g||(g=a(e)),n=c.bind(null,i,u,!1),o=c.bind(null,i,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=h(e),n=f.bind(null,i,e),o=function(){s(i),i.href&&URL.revokeObjectURL(i.href)}):(i=a(e),n=p.bind(null,i),o=function(){s(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}function c(t,e,i,n){var o=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=S(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function p(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function f(t,e,i){var n=i.css,o=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(n=T(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}var d={},m=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=m(function(){return window&&document&&document.all&&!window.atob}),_=function(t){var e={};return function(i){return"undefined"==typeof e[i]&&(e[i]=t.call(this,i)),e[i]}}(function(t){return document.querySelector(t)}),g=null,y=0,b=[],T=i(51);t.exports=function(t,e){e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=v()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=o(t,e);return n(i,e),function(t){for(var r=[],s=0;s<i.length;s++){var a=i[s],h=d[a.id];h.refs--,r.push(h)}if(t){var u=o(t,e);n(u,e)}for(var s=0;s<r.length;s++){var h=r[s];if(0===h.refs){for(var l=0;l<h.parts.length;l++)h.parts[l]();delete d[h.id]}}}};var S=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports={notes:{c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]},intervals:{unison:[0,0],second:[3,-5],third:[2,-3],fourth:[1,-1],fifth:[0,1],sixth:[3,-4],seventh:[2,-2],octave:[1,0]},intervalFromFifth:["second","sixth","third","seventh","fourth","unison","fifth"],intervalsIndex:["unison","second","third","fourth","fifth","sixth","seventh","octave","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth"],fifths:["f","c","g","d","a","e","b"],accidentals:["bb","b","","#","x"],sharp:[-4,7],A4:[3,3],durations:{.25:"longa",.5:"breve",1:"whole",2:"half",4:"quarter",8:"eighth",16:"sixteenth",32:"thirty-second",64:"sixty-fourth",128:"hundred-twenty-eighth"},qualityLong:{P:"perfect",M:"major",m:"minor",A:"augmented",AA:"doubly augmented",d:"diminished",dd:"doubly diminished"},alterations:{perfect:["dd","d","P","A","AA"],minor:["dd","d","m","M","A","AA"]},symbols:{min:["m3","P5"],m:["m3","P5"],"-":["m3","P5"],M:["M3","P5"],"":["M3","P5"],"+":["M3","A5"],aug:["M3","A5"],dim:["m3","d5"],o:["m3","d5"],maj:["M3","P5","M7"],dom:["M3","P5","m7"],"ø":["m3","d5","m7"],5:["P5"]},chordShort:{major:"M",minor:"m",augmented:"aug",diminished:"dim","half-diminished":"7b5",power:"5",dominant:"7"},stepNumber:{unison:1,first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,octave:8,ninth:9,eleventh:11,thirteenth:13},intervalSolfege:{dd1:"daw",d1:"de",P1:"do",A1:"di",AA1:"dai",d2:"raw",m2:"ra",M2:"re",A2:"ri",AA2:"rai",d3:"maw",m3:"me",M3:"mi",A3:"mai",dd4:"faw",d4:"fe",P4:"fa",A4:"fi",AA4:"fai",dd5:"saw",d5:"se",P5:"so",A5:"si",AA5:"sai",d6:"law",m6:"le",M6:"la",A6:"li",AA6:"lai",d7:"taw",m7:"te",M7:"ti",A7:"tai",dd8:"daw",d8:"de",P8:"do",A8:"di",AA8:"dai"}}},function(t,e,i){function n(t){return this instanceof n?void(this.coord=t):new n(t)}var o=i(5),r=i(15),s=i(42);n.prototype={name:function(){return o.intervalsIndex[this.number()-1]},semitones:function(){return r.sum(r.mul(this.coord,[12,7]))},number:function(){return Math.abs(this.value())},value:function(){var t=Math.floor((this.coord[1]-2)/7)+1,e=r.mul(o.sharp,t),i=r.sub(this.coord,e),n=o.intervalFromFifth[i[1]+5],s=i[0]-o.intervals[n][0],a=o.stepNumber[n]+7*s;return a>0?a:a-2},type:function(){return o.intervals[this.base()][0]<=1?"perfect":"minor"},base:function(){var t=r.mul(o.sharp,this.qualityValue()),e=r.sub(this.coord,t)[1];e=this.value()>0?e+5:-(e-5)%7,e=e<0?o.intervalFromFifth.length+e:e;var i=o.intervalFromFifth[e];return"unison"===i&&this.number()>=8&&(i="octave"),i},direction:function(t){if(t){var e=this.value()>=1?"up":"down";return e!==t&&(this.coord=r.mul(this.coord,-1)),this}return this.value()>=1?"up":"down"},simple:function(t){var e=o.intervals[this.base()],i=r.mul(o.sharp,this.qualityValue());return e=r.add(e,i),t||(e="down"===this.direction()?r.mul(e,-1):e),new n(e)},isCompound:function(){return this.number()>8},octaves:function(){var t,e,i;return"up"===this.direction()?(t=r.mul(o.sharp,this.qualityValue()),e=r.sub(this.coord,t),i=e[0]-o.intervals[this.base()][0]):(t=r.mul(o.sharp,-this.qualityValue()),e=r.sub(this.coord,t),i=-(e[0]+o.intervals[this.base()][0])),i},invert:function(){var t=this.base(),e=this.qualityValue(),i="minor"===this.type()?-(e-1):-e,s=9-o.stepNumber[t]-1,a=o.intervals[o.intervalsIndex[s]];return a=r.add(a,r.mul(o.sharp,i)),new n(a)},quality:function(t){var e=o.alterations[this.type()][this.qualityValue()+2];return t?o.qualityLong[e]:e},qualityValue:function(){return"down"===this.direction()?Math.floor((-this.coord[1]-2)/7)+1:Math.floor((this.coord[1]-2)/7)+1},equal:function(t){return this.coord[0]===t.coord[0]&&this.coord[1]===t.coord[1]},greater:function(t){var e=this.semitones(),i=t.semitones();return e===i?this.number()>t.number():e>i},smaller:function(t){return!this.equal(t)&&!this.greater(t)},add:function(t){return new n(r.add(this.coord,t.coord))},toString:function(t){var e=t?this.number():this.value();return this.quality()+e}},n.toCoord=function(t){var e=s(t);if(!e)throw new Error("Invalid simple format interval");return new n(e)},n.from=function(t,e){return t.interval(e)},n.between=function(t,e){return new n(r.sub(e.coord,t.coord))},n.invert=function(t){return n.toCoord(t).invert().toString()},t.exports=n},function(t,e,i){var n,o;n=[i(1),i(18),i(2)],o=function(t){"use strict";return t.Gain=function(){var e=this.optionsObject(arguments,["gain","units"],t.Gain.defaults);this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new t.Param({param:this._gainNode.gain,units:e.units,value:e.gain,convert:e.convert}),this._readOnly("gain")},t.extend(t.Gain),t.Gain.defaults={gain:1,convert:!0},t.Gain.prototype.dispose=function(){t.Param.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},t.Gain}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(58),i(2),i(10),i(16),i(7),i(59)],o=function(t){"use strict";t.Transport=function(){t.Emitter.call(this),this.loop=!1,this._loopStart=0,this._loopEnd=0,this._ppq=e.defaults.PPQ,this._clock=new t.Clock({callback:this._processTick.bind(this),frequency:0}),this.bpm=this._clock.frequency,this.bpm._toUnits=this._toUnits.bind(this),this.bpm._fromUnits=this._fromUnits.bind(this),this.bpm.units=t.Type.BPM,this.bpm.value=e.defaults.bpm,this._readOnly("bpm"),this._timeSignature=e.defaults.timeSignature,this._scheduledEvents={},this._eventID=0,this._timeline=new t.Timeline,this._repeatedEvents=new t.IntervalTimeline,this._onceEvents=new t.Timeline,this._syncedSignals=[];var i=this.notationToSeconds(e.defaults.swingSubdivision,e.defaults.bpm,e.defaults.timeSignature);this._swingTicks=i/(60/e.defaults.bpm)*this._ppq,this._swingAmount=0},t.extend(t.Transport,t.Emitter),t.Transport.defaults={bpm:120,swing:0,swingSubdivision:"16n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:48},t.Transport.prototype._processTick=function(t){this._swingAmount>0&&this._clock.ticks%this._ppq!==0&&this._clock.ticks%this._swingTicks===0&&(t+=this.ticksToSeconds(this._swingTicks)*this._swingAmount),this.loop&&this._clock.ticks===this._loopEnd&&(this.ticks=this._loopStart,this.trigger("loop",t));var e=this._clock.ticks;this._timeline.forEachAtTime(e,function(e){e.callback(t)}),this._repeatedEvents.forEachOverlap(e,function(i){(e-i.time)%i.interval===0&&i.callback(t)}),this._onceEvents.forEachBefore(e,function(e){e.callback(t)}),this._onceEvents.cancelBefore(e)},t.Transport.prototype.schedule=function(t,e){var i={time:this.toTicks(e),callback:t},n=this._eventID++;return this._scheduledEvents[n.toString()]={event:i,timeline:this._timeline},this._timeline.addEvent(i),n},t.Transport.prototype.scheduleRepeat=function(t,e,i,n){if(e<=0)throw new Error("repeat events must have an interval larger than 0");var o={time:this.toTicks(i),duration:this.toTicks(this.defaultArg(n,1/0)),interval:this.toTicks(e),callback:t},r=this._eventID++;return this._scheduledEvents[r.toString()]={event:o,timeline:this._repeatedEvents},this._repeatedEvents.addEvent(o),r},t.Transport.prototype.scheduleOnce=function(t,e){var i={time:this.toTicks(e),callback:t},n=this._eventID++;return this._scheduledEvents[n.toString()]={event:i,timeline:this._onceEvents},this._onceEvents.addEvent(i),n},t.Transport.prototype.clear=function(t){if(this._scheduledEvents.hasOwnProperty(t)){var e=this._scheduledEvents[t.toString()];e.timeline.removeEvent(e.event),delete this._scheduledEvents[t.toString()]}return this},t.Transport.prototype.cancel=function(t){return t=this.defaultArg(t,0),t=this.toTicks(t),this._timeline.cancel(t),this._onceEvents.cancel(t),this._repeatedEvents.cancel(t),this},t.Transport.prototype.quantize=function(e,i){i=this.defaultArg(i,"4n");var n=this.toTicks(e);i=this.toTicks(i);var o=i-n%i;o===i&&(o=0);var r=this.now();return this.state===t.State.Started&&(r=this._clock._nextTick),this.toSeconds(e,r)+this.ticksToSeconds(o)},Object.defineProperty(t.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}}),t.Transport.prototype.start=function(t,e){return t=this.toSeconds(t),e=this.isUndef(e)?this.defaultArg(e,this._clock.ticks):this.toTicks(e),this._clock.start(t,e),this.trigger("start",t,this.ticksToSeconds(e)),this},t.Transport.prototype.stop=function(t){return t=this.toSeconds(t),this._clock.stop(t),this.trigger("stop",t),this},t.Transport.prototype.pause=function(t){return t=this.toSeconds(t),this._clock.pause(t),this.trigger("pause",t),this},Object.defineProperty(t.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(t){this.isArray(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}}),Object.defineProperty(t.Transport.prototype,"loopStart",{get:function(){return this.ticksToSeconds(this._loopStart)},set:function(t){this._loopStart=this.toTicks(t)}}),Object.defineProperty(t.Transport.prototype,"loopEnd",{get:function(){return this.ticksToSeconds(this._loopEnd)},set:function(t){this._loopEnd=this.toTicks(t)}}),t.Transport.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(t.Transport.prototype,"swing",{get:function(){return 2*this._swingAmount},set:function(t){this._swingAmount=.5*t}}),Object.defineProperty(t.Transport.prototype,"swingSubdivision",{get:function(){return this.toNotation(this._swingTicks+"i")},set:function(t){this._swingTicks=this.toTicks(t)}}),Object.defineProperty(t.Transport.prototype,"position",{get:function(){var t=this.ticks/this._ppq,e=Math.floor(t/this._timeSignature),i=t%1*4;i%1>0&&(i=i.toFixed(3)),t=Math.floor(t)%this._timeSignature;var n=[e,t,i];return n.join(":")},set:function(t){var e=this.toTicks(t);this.ticks=e}}),Object.defineProperty(t.Transport.prototype,"progress",{get:function(){return this.loop?(this.ticks-this._loopStart)/(this._loopEnd-this._loopStart):0}}),Object.defineProperty(t.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(t){this._clock.ticks=t}}),Object.defineProperty(t.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(t){this._ppq=t,this.bpm.value=this.bpm.value}}),t.Transport.prototype._fromUnits=function(t){return 1/(60/t/this.PPQ)},t.Transport.prototype._toUnits=function(t){return t/this.PPQ*60},t.Transport.prototype.syncSignal=function(e,i){i||(i=0!==e._param.value?e._param.value/this.bpm._param.value:0);var n=new t.Gain(i);return this.bpm.chain(n,e._param),this._syncedSignals.push({ratio:n,signal:e,initial:e._param.value}),e._param.value=0,this},t.Transport.prototype.unsyncSignal=function(t){for(var e=this._syncedSignals.length-1;e>=0;e--){var i=this._syncedSignals[e];i.signal===t&&(i.ratio.dispose(),i.signal._param.value=i.initial,this._syncedSignals.splice(e,1))}return this},t.Transport.prototype.dispose=function(){return t.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._onceEvents.dispose(),this._onceEvents=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this};var e=t.Transport;return t._initAudioContext(function(){if("function"==typeof t.Transport)t.Transport=new t.Transport;else{t.Transport.stop();var i=t.Transport.get();t.Transport.dispose(),e.call(t.Transport),t.Transport.set(i)}}),t.Transport}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n;n=function(){var t=null;return{load:function(e,i){var n=new XMLHttpRequest;n.open("GET","https://gweb-musiclab-site.appspot.com/static/locales/"+e+"/locale-music-lab.json"),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var e=JSON.parse(n.responseText);t=e,i()}else console.log("Error: "+n.status)},n.send(null)},localize:function(e){return t&&t[e]?t[e].message:e},localizeChord:function(e,i){return t?e+"  "+i+" chord":note}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,o;n=[i(1),i(2)],o=function(t){"use strict";return t.Timeline=function(){var e=this.optionsObject(arguments,["memory"],t.Timeline.defaults);this._timeline=[],this._toRemove=[],this._iterating=!1,this.memory=e.memory},t.extend(t.Timeline),t.Timeline.defaults={memory:1/0},Object.defineProperty(t.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),t.Timeline.prototype.addEvent=function(t){if(this.isUndef(t.time))throw new Error("events must have a time attribute");if(t.time=this.toSeconds(t.time),this._timeline.length){var e=this._search(t.time);this._timeline.splice(e+1,0,t)}else this._timeline.push(t);if(this.length>this.memory){var i=this.length-this.memory;this._timeline.splice(0,i)}return this},t.Timeline.prototype.removeEvent=function(t){if(this._iterating)this._toRemove.push(t);else{var e=this._timeline.indexOf(t);e!==-1&&this._timeline.splice(e,1)}return this},t.Timeline.prototype.getEvent=function(t){t=this.toSeconds(t);var e=this._search(t);return e!==-1?this._timeline[e]:null},t.Timeline.prototype.getEventAfter=function(t){t=this.toSeconds(t);var e=this._search(t);return e+1<this._timeline.length?this._timeline[e+1]:null},t.Timeline.prototype.getEventBefore=function(t){t=this.toSeconds(t);var e=this._search(t);return e-1>=0?this._timeline[e-1]:null},t.Timeline.prototype.cancel=function(t){if(this._timeline.length>1){t=this.toSeconds(t);var e=this._search(t);e>=0?this._timeline=this._timeline.slice(0,e):this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},t.Timeline.prototype.cancelBefore=function(t){if(this._timeline.length){t=this.toSeconds(t);var e=this._search(t);e>=0&&(this._timeline=this._timeline.slice(e+1))}return this},t.Timeline.prototype._search=function(t){for(var e=0,i=this._timeline.length,n=i;e<=n&&e<i;){var o=Math.floor(e+(n-e)/2),r=this._timeline[o];if(r.time===t){for(var s=o;s<this._timeline.length;s++){var a=this._timeline[s];a.time===t&&(o=s)}return o}r.time>t?n=o-1:r.time<t&&(e=o+1)}return e-1},t.Timeline.prototype._iterate=function(t,e,i){this._iterating=!0,e=this.defaultArg(e,0),i=this.defaultArg(i,this._timeline.length-1);for(var n=e;n<=i;n++)t(this._timeline[n]);if(this._iterating=!1,this._toRemove.length>0){for(var o=0;o<this._toRemove.length;o++){var r=this._timeline.indexOf(this._toRemove[o]);r!==-1&&this._timeline.splice(r,1)}this._toRemove=[]}},t.Timeline.prototype.forEach=function(t){return this._iterate(t),this},t.Timeline.prototype.forEachBefore=function(t,e){t=this.toSeconds(t);var i=this._search(t);return i!==-1&&this._iterate(e,0,i),this},t.Timeline.prototype.forEachAfter=function(t,e){t=this.toSeconds(t);var i=this._search(t);return this._iterate(e,i+1),this},t.Timeline.prototype.forEachFrom=function(t,e){t=this.toSeconds(t);for(var i=this._search(t);i>=0&&this._timeline[i].time>=t;)i--;return this._iterate(e,i+1),this},t.Timeline.prototype.forEachAtTime=function(t,e){t=this.toSeconds(t);var i=this._search(t);return i!==-1&&this._iterate(function(i){i.time===t&&e(i)},0,i),this},t.Timeline.prototype.dispose=function(){t.prototype.dispose.call(this),this._timeline=null,this._toRemove=null},t.Timeline}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n;n=function(){return{charcoal:"rgb(50,51,52)",lightGrey:"rgb(223,224,225)",grey:"rgb(204, 204, 204)",orange:"#FFB729",blue:"rgb(22, 168, 240)",lightBlue:"rgb(131, 211, 248)",C:"#4e61d8","C#":"#8064c6",Db:"#8064c6",D:"#a542b1","D#":"#ed3883",Eb:"#ed3883",E:"#f75839",F:"#f7943d","F#":"#f6be37",Gb:"#f6be37",G:"#d1c12e","G#":"#95c631",Ab:"#95c631",A:"#4bb250","A#":"#45b5a1",Bb:"#45b5a1",B:"#4598b6"}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e){var i={bb:-2,b:-1,"":0,"#":1,x:2};t.exports=function(t){return i[t]},t.exports.interval=function(t){var e=i[t];return[-4*e,7*e]}},function(t,e){var i={c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]};t.exports=function(t){return t in i?[i[t][0],i[t][1]]:null},t.exports.notes=i,t.exports.A4=[3,3],t.exports.sharp=[-4,7]},function(t,e,i){function n(t,e,i){for(;i>0;i--)t+=e;return t}function o(t,e){return this instanceof o?(e=e||{},this.duration={value:e.value||4,dots:e.dots||0},void(this.coord=t)):new o(t,e)}var r=i(44),s=i(41),a=i(43),h=i(5),u=i(15),l=i(6);o.prototype={octave:function(){return this.coord[0]+h.A4[0]-h.notes[this.name()][0]+4*this.accidentalValue()},name:function(){var t=this.accidentalValue(),e=this.coord[1]+h.A4[1]-7*t+1;return h.fifths[e]},accidentalValue:function(){return Math.round((this.coord[1]+h.A4[1]-2)/7)},accidental:function(){return h.accidentals[this.accidentalValue()+2]},key:function(t){return t?7*this.coord[0]+4*this.coord[1]+29:12*this.coord[0]+7*this.coord[1]+49},midi:function(){return this.key()+20},fq:function(t){return a(this.coord,t)},chroma:function(){var t=(u.sum(u.mul(this.coord,[12,7]))-3)%12;return t<0?t+12:t},interval:function(t){return"string"==typeof t&&(t=l.toCoord(t)),t instanceof l?new o(u.add(this.coord,t.coord),this.duration):t instanceof o?new l(u.sub(t.coord,this.coord)):void 0},transpose:function(t){return this.coord=u.add(this.coord,t.coord),this},helmholtz:function(){var t=this.octave(),e=this.name();e=t<3?e.toUpperCase():e.toLowerCase();var i=t<3?",":"'",o=t<2?2-t:t-3;return n(e+this.accidental(),i,o)},scientific:function(){return this.name().toUpperCase()+this.accidental()+this.octave()},enharmonics:function(t){var e=this.key(),i=t?2:3;return["m3","m2","m-2","m-3"].map(this.interval.bind(this)).filter(function(t){var n=t.accidentalValue(),o=e-(t.key()-n);if(o<i&&o>-i){var r=u.mul(h.sharp,o-n);return t.coord=u.add(t.coord,r),!0}})},solfege:function(t,e){var i,o,r,s=t.tonic.interval(this);return"down"===s.direction()&&(s=s.invert()),e&&(r=(this.key(!0)-t.tonic.key(!0))/7,r=r>=0?Math.floor(r):-Math.ceil(-r),o=r>=0?"'":","),i=h.intervalSolfege[s.simple(!0).toString()],e?n(i,o,Math.abs(r)):i},scaleDegree:function(t){var e=t.tonic.interval(this);return("down"===e.direction()||0===e.coord[1]&&0!==e.coord[0])&&(e=e.invert()),e=e.simple(!0).coord,t.scale.reduce(function(t,i,n){var o=l.toCoord(i).coord;return o[0]===e[0]&&o[1]===e[1]?n+1:t},0)},durationName:function(){return h.durations[this.duration.value]},durationInSeconds:function(t,e){var i=60/t/(this.duration.value/4)/(e/4);return 2*i-i/Math.pow(2,this.duration.dots)},toString:function(t){return this.name()+this.accidental()+(t?"":this.octave())}},o.fromString=function(t,e){var i=r(t);return i||(i=s(t)),new o(i,e)},o.fromKey=function(t){var e=Math.floor((t-4)/12),i=t-12*e-4,n=h.fifths[(2*Math.round(i/2)+1)%7],r=u.sub(h.notes[n],h.A4),s=u.add(r,[e+1,0]),a=t-49-u.sum(u.mul(s,[12,7])),l=a?u.add(s,u.mul(h.sharp,a)):s;return new o(l)},o.fromFrequency=function(t,e){var i,n,r;return e=e||440,i=49+12*((Math.log(t)-Math.log(e))/Math.log(2)),i=Math.round(i),r=e*Math.pow(2,(i-49)/12),n=1200*(Math.log(t/r)/Math.log(2)),{note:o.fromKey(i),cents:n}},o.fromMIDI=function(t){return o.fromKey(t-20)},t.exports=o},function(t,e){t.exports={add:function(t,e){return[t[0]+e[0],t[1]+e[1]]},sub:function(t,e){return[t[0]-e[0],t[1]-e[1]]},mul:function(t,e){return"number"==typeof e?[t[0]*e,t[1]*e]:[t[0]*e[0],t[1]*e[1]]},sum:function(t){return t[0]+t[1]}}},function(t,e,i){var n,o;n=[i(1)],o=function(t){"use strict";return t.Emitter=function(){this._events={}},t.extend(t.Emitter),t.Emitter.prototype.on=function(t,e){for(var i=t.split(/\W+/),n=0;n<i.length;n++){var o=i[n];this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(e)}return this},t.Emitter.prototype.off=function(e,i){for(var n=e.split(/\W+/),o=0;o<n.length;o++)if(e=n[o],this._events.hasOwnProperty(e))if(t.prototype.isUndef(i))this._events[e]=[];else for(var r=this._events[e],s=0;s<r.length;s++)r[s]===i&&r.splice(s,1);return this},t.Emitter.prototype.trigger=function(t){if(this._events){var e=Array.prototype.slice.call(arguments,1);if(this._events.hasOwnProperty(t))for(var i=this._events[t],n=0,o=i.length;n<o;n++)i[n].apply(this,e)}return this},t.Emitter.mixin=function(e){var i=["on","off","trigger"];e._events={};for(var n=0;n<i.length;n++){var o=i[n],r=t.Emitter.prototype[o];e[o]=r}},t.Emitter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._events=null,this},t.Emitter}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(56)],o=function(t){"use strict";t.Master=function(){t.call(this),this._unmutedVolume=1,this._muted=!1,this._volume=this.output=new t.Volume,this.volume=this._volume.volume,this._readOnly("volume"),
this.input.chain(this.output,this.context.destination)},t.extend(t.Master),t.Master.defaults={volume:0,mute:!1},Object.defineProperty(t.Master.prototype,"mute",{get:function(){return this._muted},set:function(t){!this._muted&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-(1/0)):this._muted&&!t&&(this.volume.value=this._unmutedVolume),this._muted=t}}),t.Master.prototype.chain=function(){this.input.disconnect(),this.input.chain.apply(this.input,arguments),arguments[arguments.length-1].connect(this.output)},t.Master.prototype.dispose=function(){t.prototype.dispose.call(this),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null},t.prototype.toMaster=function(){return this.connect(t.Master),this},AudioNode.prototype.toMaster=function(){return this.connect(t.Master),this};var e=t.Master;return t._initAudioContext(function(){t.prototype.isUndef(t.Master)?(e.prototype.dispose.call(t.Master),e.call(t.Master)):t.Master=new e}),t.Master}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(2)],o=function(t){"use strict";return t.Param=function(){var e=this.optionsObject(arguments,["param","units","convert"],t.Param.defaults);this._param=this.input=e.param,this.units=e.units,this.convert=e.convert,this.overridden=!1,this.isUndef(e.value)||(this.value=e.value)},t.extend(t.Param),t.Param.defaults={units:t.Type.Default,convert:!0,param:void 0},Object.defineProperty(t.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(t){var e=this._fromUnits(t);this._param.value=e}}),t.Param.prototype._fromUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Time:return this.toSeconds(e);case t.Type.Frequency:return this.toFrequency(e);case t.Type.Decibels:return this.dbToGain(e);case t.Type.NormalRange:return Math.min(Math.max(e,0),1);case t.Type.AudioRange:return Math.min(Math.max(e,-1),1);case t.Type.Positive:return Math.max(e,0);default:return e}},t.Param.prototype._toUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Decibels:return this.gainToDb(e);default:return e}},t.Param.prototype._minOutput=1e-5,t.Param.prototype.setValueAtTime=function(t,e){return t=this._fromUnits(t),this._param.setValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.setRampPoint=function(t){t=this.defaultArg(t,this.now());var e=this._param.value;return this._param.setValueAtTime(e,t),this},t.Param.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),this._param.linearRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),this._param.exponentialRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValue=function(t,e){var i=this.now(),n=this.value;return this.setValueAtTime(Math.max(n,this._minOutput),i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e)),this},t.Param.prototype.linearRampToValue=function(t,e){var i=this.now();return this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(e)),this},t.Param.prototype.setTargetAtTime=function(t,e,i){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),i=Math.max(this._minOutput,i),this._param.setTargetAtTime(t,this.toSeconds(e),i),this},t.Param.prototype.setValueCurveAtTime=function(t,e,i){for(var n=0;n<t.length;n++)t[n]=this._fromUnits(t[n]);return this._param.setValueCurveAtTime(t,this.toSeconds(e),this.toSeconds(i)),this},t.Param.prototype.cancelScheduledValues=function(t){return this._param.cancelScheduledValues(this.toSeconds(t)),this},t.Param.prototype.rampTo=function(e,i){return i=this.defaultArg(i,0),this.units===t.Type.Frequency||this.units===t.Type.BPM?this.exponentialRampToValue(e,i):this.linearRampToValue(e,i),this},t.Param.prototype.dispose=function(){return t.prototype.dispose.call(this),this._param=null,this},t.Param}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(10),i(2)],o=function(t){"use strict";return t.TimelineState=function(e){t.Timeline.call(this),this._initial=e},t.extend(t.TimelineState,t.Timeline),t.TimelineState.prototype.getStateAtTime=function(t){var e=this.getEvent(t);return null!==e?e.state:this._initial},t.TimelineState.prototype.setStateAtTime=function(t,e){this.addEvent({state:t,time:this.toSeconds(e)})},t.TimelineState}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(65),i(2),i(18),i(7)],o=function(t){"use strict";return t.Signal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this.output=this._gain=this.context.createGain(),e.param=this._gain.gain,t.Param.call(this,e),this.input=this._param=this._gain.gain,t.Signal._constant.chain(this._gain)},t.extend(t.Signal,t.Param),t.Signal.defaults={value:0,units:t.Type.Default,convert:!0},t.Signal.prototype.connect=t.SignalBase.prototype.connect,t.Signal.prototype.dispose=function(){return t.Param.prototype.dispose.call(this),this._param=null,this._gain.disconnect(),this._gain=null,this},t.Signal._constant=null,t._initAudioContext(function(e){for(var i=e.createBuffer(1,128,e.sampleRate),n=i.getChannelData(0),o=0;o<n.length;o++)n[o]=1;t.Signal._constant=e.createBufferSource(),t.Signal._constant.channelCount=1,t.Signal._constant.channelCountMode="explicit",t.Signal._constant.buffer=i,t.Signal._constant.loop=!0,t.Signal._constant.start(0),t.Signal._constant.noGC()}),t.Signal}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(32),i(1)],o=function(t,e){return function(){var i=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(i){var n=document.createElement("div");n.id="iOSTap",n.addEventListener("touchstart",function(t){t.preventDefault()}),document.body.appendChild(n),t.setContext(e.context),t.on(n),t.onStarted(function(){n.remove(),window.parent.postMessage("ready","*")})}else window.parent.postMessage("ready","*")}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(45),i(9)],o=function(t,e){var i=function(t){this.element=document.createElement("DIV"),this.element.id="ChordLabel",t.appendChild(this.element),this.text=document.createElement("DIV"),this.text.id="Text",this.element.appendChild(this.text),this.text.textContent=e.localize("Chords_UI_Press_Key")};return i.prototype.setChord=function(t,i){t=t[0].toUpperCase()+t.substring(1),this.text.textContent=e.localizeChord(t,i)},i}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(28),i(48),i(52),i(1)],o=function(t,e,i,n){var o=function(e,i,o){this.element=document.createElement("DIV"),this.element.id="Piano",e.appendChild(this.element),this.piano=new t(this.element,i,o),this.piano.setHighlightColor("#ffb729"),this.piano.onkeydown=this.clicked.bind(this),this.piano.oncontextstart=function(){n.startMobile()},this.onNotes=function(){},this.selected=[],this.mode="major",this.key=null,this.timeouts={},window.addEventListener("resize",function(){this.piano._resize()}.bind(this))};return o.prototype.delayTime=.2,o.prototype.clicked=function(t){this.setChord(t)},o.prototype.setChord=function(t){this.clearTimeouts();var e=i.note(t);this.key=e;var n=e.chord(this.mode).notes();this.unselectAll();for(var o=[],r=0;r<n.length;r++){chordNote=n[r];var s=chordNote.midi(),a=i.note.fromMIDI(s).scientific();this.piano.keyDown(a),o.push(a),this.triggerNote(a,this.delayTime*(r+1))}this.onNotes(o,this.key.name()+this.key.accidental(),this.mode)},o.prototype.triggerNote=function(t,e){this.timeouts[t]=setTimeout(function(){this.piano.highlight(t,"#996e19","#996e19"),this.timeouts[t]=setTimeout(function(){this.piano.keyDown(t)}.bind(this),1200*this.delayTime)}.bind(this),1e3*e)},o.prototype.clearTimeouts=function(){for(var t in this.timeouts)clearTimeout(this.timeouts[t]);this.timeouts={}},o.prototype.setMode=function(t){this.mode=t,this.key&&this.setChord(this.key.scientific())},o.prototype.unselectAll=function(){this.piano.unselectAll()},o}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(49),i(25),i(9)],o=function(t,e,i){var n=function(t){this.element=document.createElement("DIV"),this.element.id="ToggleContainer",t.appendChild(this.element),this.toggle=new e(this.element,i.localize("Chords_UI_Minor"),i.localize("Chords_UI_Major"),!0),this.toggle.onchange=this.toggled.bind(this),this.onChange=function(){}};return n.prototype.toggled=function(t){this.onChange(t?"major":"minor")},n}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(50)],o=function(t,e){var i=function(t,e,i,n){this._value=!1,this._container=document.createElement("div"),this._container.classList.add("Toggle"),t.appendChild(this._container),this._slider=document.createElement("div"),this._slider.id="Slider",this._container.appendChild(this._slider),this._sliderRailing=document.createElement("div"),this._sliderRailing.id="Rail",this._slider.appendChild(this._sliderRailing),this._sliderHandle=document.createElement("div"),this._sliderHandle.id="Handle",this._slider.appendChild(this._sliderHandle),this._slider.addEventListener("mousedown",this._change.bind(this)),this._slider.addEventListener("touchstart",this._change.bind(this)),this._leftLabel=document.createElement("div"),this._leftLabel.id="Left",this._leftLabel.classList.add("Label"),this._leftLabel.textContent=e||"",this._leftLabel.addEventListener("mousedown",this._setFalse.bind(this)),this._leftLabel.addEventListener("touchstart",this._setFalse.bind(this)),this._container.appendChild(this._leftLabel),this._rightLabel=document.createElement("div"),this._rightLabel.id="Right",this._rightLabel.classList.add("Label"),this._rightLabel.textContent=i||"",this._rightLabel.addEventListener("mousedown",this._setTrue.bind(this)),this._rightLabel.addEventListener("touchstart",this._setTrue.bind(this)),this._container.appendChild(this._rightLabel),this.onchange=function(){},this.setValue(n||!1)};return i.prototype._change=function(t){t.preventDefault(),this._value=!this._value,this._update(),this.onchange(this.getValue())},i.prototype._update=function(){this.getValue()?(this._rightLabel.classList.add("Selected"),this._leftLabel.classList.remove("Selected"),this._slider.classList.add("Right")):(this._rightLabel.classList.remove("Selected"),this._leftLabel.classList.add("Selected"),this._slider.classList.remove("Right"))},i.prototype.setValue=function(t){this._value=t,this._update()},i.prototype._setFalse=function(t){t.preventDefault(),this._value=!1,this._update(),this.onchange(this.getValue())},i.prototype._setTrue=function(t){t.preventDefault(),this._value=!0,this._update(),this.onchange(this.getValue())},i.prototype.getValue=function(){return this._value},i}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(11)],o=function(t){"use strict";var e=function(t,e){this.note=t,this._offset=e,this.isSharp=this.note.indexOf("#")!==-1,this._isHighlighted=!1,this._highlightColor="",this.setHighlightColor("rainbow"),this._computeBoundingBox()};return e.prototype._computeBoundingBox=function(){var t=this.isSharp?.6:1,e=this.isSharp?.7:1,i=this.isSharp?(1-e)/2:0;return[this._offset+i,0,e,t]},e.prototype._getNoteName=function(){var t=this.note.split(/(-?\d+)/);if(3===t.length){var e=t[0].toUpperCase();return e}},e.prototype.highlight=function(t){return this._isHighlighted=!0,this._highlightColor=t,this},e.prototype.unhighlight=function(){return this._isHighlighted=!1,this},e.prototype.setHighlightColor=function(e){return"rainbow"===e?this._highlightColor=t[this._getNoteName()]:this._highlightColor=e,this},e.prototype.setStartNote=function(t){this._startNote=t,this._computeBoundingBox()},e.prototype.setEndNote=function(t){this._endNote=t,this._computeBoundingBox()},e.prototype.testCollision=function(t,e){var i=this._computeBoundingBox();if(i[0]<=t&&i[0]+i[2]>=t&&i[1]<=e&&i[3]>=e)return!0},e.prototype.draw=function(e,i,n){e.beginPath(),this._isHighlighted?e.fillStyle=this._highlightColor:e.fillStyle=this.isSharp?t.charcoal:"white";var o=this._computeBoundingBox();return o[0]=Math.round(i*o[0]),o[2]=Math.round(i*o[2]),o[1]=Math.round(n*o[1]),o[3]=Math.round(n*o[3]),e.rect.apply(e,o),e.fill(),this.isSharp||this._isHighlighted||e.stroke(),this},e}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n;n=function(){var t=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return{getNotes:function(e,i){var n=parseInt(e.split(/(-?\d+)/)[1]),o=e.split(/(-?\d+)/)[0];o=t.indexOf(o);var r=parseInt(i.split(/(-?\d+)/)[1]),s=i.split(/(-?\d+)/)[0];s=t.indexOf(s);for(var a=o,h=n,u=[];a!==s||h!==r;)u.push(t[a]+h),a++,a>=t.length&&(a=0,h++);return u},getDistanceBetween:function(t,e){for(var i=this.getNotes(t,e),n=0,o=0;o<i.length;o++){var r=i[o];n+="E"!==r[0]&&"B"!==r[0]||"#"===r[1]?.5:1}return n}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,o;n=[i(26),i(46),i(27),i(11)],o=function(t,e,i,n){var o={"C#":"Db","D#":"Eb","F#":"Gb","G#":"Ab","A#":"Bb"},r=function(t,e,i){this._canvas=document.createElement("canvas"),this._canvas.id="PianoKeyboard",t.appendChild(this._canvas),this._context=this._canvas.getContext("2d"),this._container=t,this._startNote=e||"C4",this._endNote=i||"C6",this._notes=[],this._noteNames={},this._isMouseDown=!1,this._touchDragged=!1,this._contextStarted=!1,this._highlightedKeys=[],this._highlightColor="#FFB729",window.addEventListener("resize",this._resize.bind(this)),this._canvas.addEventListener("mousedown",this._mouseDown.bind(this)),this._canvas.addEventListener("mousemove",this._mouseMove.bind(this)),this._canvas.addEventListener("mouseup",this._mouseUp.bind(this)),this._canvas.addEventListener("mouseleave",this._mouseLeave.bind(this)),this._canvas.addEventListener("touchstart",this._touchStart.bind(this)),this._canvas.addEventListener("touchend",this._touchEnd.bind(this)),this._canvas.addEventListener("touchmove",this._touchMove.bind(this)),this._makeKeys(),this._resize(),this.onkeydown=function(){},this.onkeyup=function(){},this.oncontextstart=function(){}};return r.prototype._resize=function(){this._context.canvas.width=2*this._container.clientWidth,this._context.canvas.height=2*this._container.clientHeight,this.draw()},r.prototype.draw=function(){var t=this._context.canvas.width,e=this._context.canvas.height,o=2;this._context.lineWidth=o,this._context.clearRect(0,0,t,e),this._context.strokeStyle=n.lightGrey;for(var r,s=i.getDistanceBetween(this._startNote,this._endNote),a=t/s,h=0;h<this._keys.length;h++)r=this._keys[h],r.isSharp||r.draw(this._context,a,e);for(var u=0;u<this._keys.length;u++)r=this._keys[u],r.isSharp&&r.draw(this._context,a,e);return this._context.beginPath(),this._context.lineWidth=2*o,this._context.rect(0,0,t,e),this._context.stroke(),this},r.prototype._getCollision=function(t,e){var n=i.getDistanceBetween(this._startNote,this._endNote),o=this._context.canvas.width/n,r=this._context.canvas.height;t=2*t/o,e=2*e/r;for(var s,a,h=0;h<this._keys.length;h++)if(s=this._keys[h],s.isSharp&&s.testCollision(t,e)){a=s;break}if(!a)for(var u=0;u<this._keys.length;u++)if(s=this._keys[u],!s.isSharp&&s.testCollision(t,e)){a=s;break}return a},r.prototype._makeKeys=function(){this._notes=i.getNotes(this._startNote,this._endNote),this._keys=[];for(var e=0;e<this._notes.length;e++){var n=this._notes[e],r=new t(n,i.getDistanceBetween(this._startNote,n));this._noteNames[n]=r;var s=n.substr(0,2);if(o.hasOwnProperty(s)){var a=n.substr(2);this._noteNames[o[s]+a]=r}this._keys.push(r)}return this},r.prototype._mouseDown=function(t){t.preventDefault();var e=this._getCollision(t.offsetX,t.offsetY);this._isMouseDown=!0,e&&(this._highlightedKeys.push(e),this.onkeydown(e.note))},r.prototype._mouseUp=function(t){t.preventDefault();var e=this._getCollision(t.offsetX,t.offsetY);this._isMouseDown=!1,e&&(this._highlightedKeys.splice(this._highlightedKeys.indexOf(e),1),this.onkeyup(e.note))},r.prototype._mouseLeave=function(t){t.preventDefault(),this._isMouseDown=!1;for(var e=0;e<this._highlightedKeys.length;e++)this.onkeyup(this._highlightedKeys[e].note);this._highlightedKeys=[]},r.prototype._mouseMove=function(t){if(this._isMouseDown){t.preventDefault();var e=this._getCollision(t.offsetX,t.offsetY);if(this._highlightedKeys.indexOf(e)===-1){for(var i=0;i<this._highlightedKeys.length;i++)this.onkeyup(this._highlightedKeys[i].note);this._highlightedKeys=[],e&&(this._highlightedKeys.push(e),this.onkeydown(e.note))}}},r.prototype._touchStart=function(t){t.preventDefault();for(var e=this._container.getBoundingClientRect(),i=t.changedTouches,n=0;n<i.length;n++){var o=i[n],r=this._getCollision(o.clientX-e.left,o.clientY-e.top);r&&(this._highlightedKeys.push(r),this.onkeydown(r.note))}this._touchDragged=!1},r.prototype._touchEnd=function(t){t.preventDefault();for(var e=this._container.getBoundingClientRect(),i=t.changedTouches,n=0;n<i.length;n++){var o=i[n],r=this._getCollision(o.clientX-e.left,o.clientY-e.top);r&&(this._highlightedKeys.splice(this._highlightedKeys.indexOf(r),1),this.onkeyup(r.note))}this._touchDragged||this._contextStarted||(this._contextStarted=!0,this.oncontextstart())},r.prototype._touchMove=function(t){t.preventDefault();for(var e=this._container.getBoundingClientRect(),i=t.changedTouches,n=0;n<i.length;n++){var o=i[n],r=this._getCollision(o.clientX-e.left,o.clientY-e.top);if(this._highlightedKeys.indexOf(r)===-1){for(var s=0;s<this._highlightedKeys.length;s++)this.onkeyup(this._highlightedKeys[s].note);this._highlightedKeys=[],r&&(this._highlightedKeys.push(r),this.onkeydown(r.note))}}this._touchDragged=!0},r.prototype.setHighlightColor=function(t){return this._highlightColor=t,this._keys.forEach(function(e){e.setHighlightColor(t)}),this.draw(),this},r.prototype.setStartNote=function(t){return this._startNote=t,this._makeKeys(),this.draw(),this},r.prototype.setEndNote=function(t){return this._endNote=t,this._makeKeys(),this.draw(),this},r.prototype.keyDown=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.keyDown(t[e]);else this._noteNames.hasOwnProperty(t)&&this._noteNames[t].highlight(this._highlightColor);this.draw()},r.prototype.highlight=function(t,e,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)this.highlight(t[o]);else if(this._noteNames.hasOwnProperty(t)){var r=this._noteNames[t];r.isSharp?this._noteNames[t].highlight(i||n.lightGrey):this._noteNames[t].highlight(e||"black")}this.draw()},r.prototype.keyUp=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.keyUp(t[e]);else this._noteNames.hasOwnProperty(t)&&this._noteNames[t].unhighlight();this.draw()},r.prototype.unselectAll=function(){for(var t=0;t<this._keys.length;t++)this._keys[t].unhighlight();this.draw()},r}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(62),i(8),i(31)],o=function(t,e,i){var n=function(e,n,o){this.delayTime=e,this._notes=[],this.seq=new t(this._tick.bind(this),[1/0,0,1,2],e).start(0),this.seq.loop=!1,this.player=new i("https://gweb-musiclab-site.appspot.com/static/sound/piano",n,o,3)};return n.prototype.stop=function(){e.stop()},n.prototype.play=function(t){"started"===e.state&&(e.ticks=0),this._notes=t,e.start()},n.prototype.load=function(t){this.player.load(),this.player.onload=t},n.prototype._tick=function(t,e){this._notes.length>e&&this.player.loaded&&this.player.triggerAttackRelease(this._notes[e],2.5*this.delayTime,t)},n}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n;n=function(){var t=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],e={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#"},i=/(-?\d+)/;return{getNotes:function(e,n){var o=parseInt(e.split(i)[1]),r=e.split(i)[0];r=t.indexOf(r);var s=parseInt(n.split(i)[1]),a=n.split(i)[0];a=t.indexOf(a);for(var h=r,u=o,l=[];h!==a||u!==s;)l.push(t[h]+u),h++,h>=t.length&&(h=0,u++);return l},getRespelling:function(t){var n=t.split(i)[0],o=parseInt(t.split(i)[1]);return e.hasOwnProperty(n)?e[n]+o.toString():null}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,o;n=[i(66),i(30),i(17),i(57)],o=function(t,e,i,n){var o=function(e,i,n,o){this._multiPlayer=(new t).toMaster(),this._instrumentFolder=e,this._lowestNote=i,this._highestNote=n,this._stepSize=o||4,this._loadCount=0,this._notes={},this._buffers={},this._releaseTime=.5,this.loaded=!1,this.onload=function(){}};return o.prototype.load=function(){for(var t=e.getNotes(this._lowestNote,this._highestNote),i=0;i<t.length;i+=2*this._stepSize+1){var o=Math.max(2*this._stepSize+1,t.length),r=t[i+this._stepSize];if("undefined"!=typeof r){this._loadCount+=1;var s=new n(this._instrumentFolder+"/"+r+".mp3",this._loadedBuffer.bind(this));this._multiPlayer.addBuffer(r,s);for(var a=i;a<o;a++){var h=t[a];this._notes[h]={interval:a-i-this._stepSize,buffer:r};var u=e.getRespelling(h);u&&(this._notes[u]=this._notes[h])}}}},o.prototype._loadedBuffer=function(){this._loadCount-=1,0===this._loadCount&&(this.loaded=!0,this.onload())},o.prototype.triggerAttackRelease=function(t,e,i){var n=this._notes[t];this._multiPlayer.start(n.buffer,i,{playbackRate:this._multiPlayer.intervalToFrequencyRatio(n.interval),release:this._releaseTime,duration:e})},o.prototype.triggerAttack=function(t,e){this._notes[t]},o.prototype.triggerRelease=function(t,e){var i=this._notes[t];console.log(i),this._multiPlayer.stop(i.buffer,e)},o.prototype.releaseAll=function(){this._multiPlayer.stopAll()},o.prototype.dispose=function(){this.releaseAll();for(var t in this._buffers)this._buffers[t].dispose();this._buffers=null,this._notes=null},o}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,r;/**
	 *  StartAudioContext.js
	 *  @author Yotam Mann
	 *  @license http://opensource.org/licenses/MIT MIT License
	 *  @copyright 2016 Yotam Mann
	 */
!function(i,s){o=[],n=s,r="function"==typeof n?n.apply(e,o):n,!(void 0!==r&&(t.exports=r))}(this,function(){function t(t){var e=t.createBuffer(1,1,t.sampleRate),i=t.createBufferSource();i.buffer=e,i.connect(t.destination),i.start(0),t.resume&&t.resume()}function e(t){return"running"===t.state}function i(t,i){function n(){e(t)?i():(requestAnimationFrame(n),t.resume&&t.resume())}e(t)?i():n()}function n(t,e,i){if(Array.isArray(t)||NodeList&&t instanceof NodeList)for(var o=0;o<t.length;o++)n(t[o],e,i);else if("string"==typeof t)n(document.querySelectorAll(t),e,i);else if(t.jquery&&"function"==typeof t.toArray)n(t.toArray(),e,i);else if(Element&&t instanceof Element){var s=new r(t,i);e.push(s)}}function o(t,e,o){var r=new Promise(function(e){i(t,e)}),s=[];return e||(e=document.body),n(e,s,t),r.then(function(){for(var t=0;t<s.length;t++)s[t].dispose();s=null,o&&o()}),r}var r=function(t,e){this._dragged=!1,this._element=t,this._bindedMove=this._moved.bind(this),this._bindedEnd=this._ended.bind(this,e),t.addEventListener("touchstart",this._bindedEnd),t.addEventListener("touchmove",this._bindedMove),t.addEventListener("touchend",this._bindedEnd),t.addEventListener("mouseup",this._bindedEnd)};return r.prototype._moved=function(t){this._dragged=!0},r.prototype._ended=function(e){this._dragged||t(e),this._dragged=!1},r.prototype.dispose=function(){this._element.removeEventListener("touchstart",this._bindedEnd),this._element.removeEventListener("touchmove",this._bindedMove),this._element.removeEventListener("touchend",this._bindedEnd),this._element.removeEventListener("mouseup",this._bindedEnd),this._bindedMove=null,this._bindedEnd=null,this._element=null},o})},function(t,e,i){e=t.exports=i(3)(),e.push([t.id,"#ChordLabel{position:relative;left:0;top:0;height:45%}#ChordLabel #Text{position:absolute;text-align:center;width:100%;top:50%;margin-top:-12.5px;height:25px;font-size:25px;line-height:25px;font-family:Roboto,sans-serif;font-weight:300;color:#666}",""])},function(t,e,i){e=t.exports=i(3)(),e.push([t.id,"#PianoKeyboard{width:100%;height:100%;position:relative;cursor:pointer}",""])},function(t,e,i){e=t.exports=i(3)(),e.push([t.id,"#Container,body,html{width:100%;height:100%;top:0;left:0;margin:0;overflow:hidden;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent}#Container #Container,body #Container,html #Container{position:absolute}#Container #iOSTap,body #iOSTap,html #iOSTap{width:100%;height:100%;top:0;left:0;position:absolute;background-color:#fff;z-index:100000}",""])},function(t,e,i){e=t.exports=i(3)(),e.push([t.id,"#Piano{position:relative;left:0;width:100%;min-width:300px;max-width:25pc;height:90pt;left:50%;-webkit-transform:translate(-50%, 0px);transform:translate(-50%, 0px)}",""])},function(t,e,i){e=t.exports=i(3)(),e.push([t.id,"#ToggleContainer{height:calc(100% - 45% - 90pt);position:relative}#ToggleContainer .Label{font-weight:400}",""])},function(t,e,i){e=t.exports=i(3)(),e.push([t.id,".Toggle #Left{right:50%;margin-right:45px;text-align:right}.Toggle #Right{left:50%;margin-left:45px;text-align:left}.Toggle .Label{cursor:pointer;position:absolute;top:50%;font-family:Roboto,sans-serif;font-weight:300;color:#afafaf;font-size:20px;line-height:20px;margin-top:-10px;transition:color .1s}.Toggle .Label.Selected{color:#1eaaf1}.Toggle #Slider{position:absolute;left:50%;top:50%;width:50px;height:30px;margin-left:-25px;margin-top:-15px;cursor:pointer}.Toggle #Slider #Handle,.Toggle #Slider #Rail{pointer-events:none}.Toggle #Slider #Rail{position:absolute;top:50%;width:100%;height:20px;margin-top:-10px;border-radius:10px!important;background-color:#8ed3f7;border-top-left-radius:10px;border-bottom-left-radius:10px}.Toggle #Slider #Handle{position:absolute;margin-top:-15px;top:50%;height:30px;width:30px;border-radius:15px;background-color:#1eaaf1;transition:left .1s,margin-left .1s;margin-left:0;left:0;box-shadow:0 0 2px #afafaf}.Toggle #Slider.Right #Handle{left:100%;margin-left:-30px}",""])},function(t,e){var i={m:["m3","P5"],mi:["m3","P5"],min:["m3","P5"],"-":["m3","P5"],M:["M3","P5"],ma:["M3","P5"],"":["M3","P5"],"+":["M3","A5"],aug:["M3","A5"],dim:["m3","d5"],o:["m3","d5"],maj:["M3","P5","M7"],dom:["M3","P5","m7"],"ø":["m3","d5","m7"],5:["P5"],"6/9":["M3","P5","M6","M9"]};t.exports=function(t){function e(t){for(var e=i[t],n=0,o=e.length;n<o;n++)h[n+1]=e[n];a=e.length}var n,o,r="quality",s=[],a=2,h=["P1","M3","P5","m7","M9","P11","M13"],u=!1;t=t.replace(/[,\s\(\)]/g,"");for(var l=0,c=t.length;l<c;l++){if(!(n=t[l]))return;if("quality"===r){var p=l+2<c?t.substr(l,3).toLowerCase():null,f=l+1<c?t.substr(l,2).toLowerCase():null;o=p in i?p:f in i?f:n in i?n:"",o&&e(o),"M"!==o&&"ma"!==o&&"maj"!==o||(u=!0),l+=o.length-1,r="extension"}else if("extension"===r){if(n="1"===n&&t[l+1]?+t.substr(l,2):+n,isNaN(n)||6===n)6===n?(h[3]="M6",a=Math.max(3,a)):l-=1;else{if(a=(n-1)/2,a!==Math.round(a))return new Error("Invalid interval extension: "+n.toString(10));"o"===o||"dim"===o?h[3]="d7":u&&(h[3]="M7"),l+=n>=10?1:0}r="alterations"}else if("alterations"===r){var d=t.substr(l).split(/(#|b|add|maj|sus|M)/i),m=!1,v=!1;if(1===d.length)return new Error("Invalid alteration");if(0!==d[0].length)return new Error("Invalid token: '"+d[0]+"'");var _=!1;d.forEach(function(t,e,i){if(_||!t.length)return _=!1;var n=i[e+1],o=t.toLowerCase();if("M"===t||"maj"===o)"7"===n&&(_=!0),a=Math.max(3,a),h[3]="M7";else if("sus"===o){var r="P4";"2"!==n&&"4"!==n||(_=!0,"2"===n&&(r="M2")),h[1]=r}else if("add"===o)"9"===n?s.push("M9"):"11"===n?s.push("P11"):"13"===n&&s.push("M13"),_=!0;else if("b"===o)m=!0;else if("#"===o)v=!0;else{var u,l,c=+t;if(isNaN(c)||String(c).length!==t.length)return new Error("Invalid token: '"+t+"'");if(6===c)return v?h[3]="A6":m?h[3]="m6":h[3]="M6",void(a=Math.max(3,a));if(l=(c-1)/2,a<l&&(a=l),c<5||7===c||l!==Math.round(l))return new Error("Invalid interval alteration: "+c);u=h[l][0],v?"d"===u?u="m":"m"===u?u="M":"M"!==u&&"P"!==u||(u="A"):m&&("A"===u?u="M":"M"===u?u="m":"m"!==u&&"P"!==u||(u="d")),v=m=!1,h[l]=u+c}}),r="ended"}else if("ended"===r)break}return h.slice(0,a+1).concat(s)}},function(t,e,i){/*!
	  * domready (c) Dustin Diaz 2014 - License MIT
	  */
!function(e,i){t.exports=i()}("domready",function(){var t,e=[],i=document,n=i.documentElement.doScroll,o="DOMContentLoaded",r=(n?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);return r||i.addEventListener(o,t=function(){for(i.removeEventListener(o,t),r=1;t=e.shift();)t()}),function(t){r?setTimeout(t,0):e.push(t)}})},function(t,e,i){var n=i(13),o=i(12);t.exports=function(t){var t=t.replace(/\u2032/g,"'").replace(/\u0375/g,","),e=t.match(/^(,*)([a-h])(x|#|bb|b?)([,\']*)$/i);if(!e||t!==e[0])throw new Error("Invalid formatting");var i,r=e[2],s=e[1],a=e[4],h=r===r.toLowerCase();if(s){if(h)throw new Error("Invalid formatting - found commas before lowercase note");i=2-s.length}else if(a)if(a.match(/^'+$/)&&h)i=3+a.length;else{if(!a.match(/^,+$/)||h)throw new Error("Invalid formatting - mismatch between octave indicator and letter case");i=2-a.length}else i=h?3:2;var u=o.interval(e[3].toLowerCase()),l=n(r.toLowerCase());return l[0]+=i,l[0]+=u[0]-n.A4[0],l[1]+=u[1]-n.A4[1],l}},function(t,e){var i=/^(AA|A|P|M|m|d|dd)(-?\d+)$/,n=[-4,7],o=["dd","d","P","A","AA"],r=["dd","d","m","M","A","AA"],s=[[0,0],[3,-5],[2,-3],[1,-1],[0,1],[3,-4],[2,-2],[1,0]];t.exports=function(t){var e=t.match(i);if(!e)return null;var a=e[1],h=+e[2],u=h<0?-1:1;h=u<0?-h:h;var l=h>8?h%7||7:h,c=(h-l)/7,p=s[l-1],f=p[0]<=1?o:r,d=f.indexOf(a)-2;return d===-3?null:[u*(p[0]+c+n[0]*d),u*(p[1]+n[1]*d)]},t.exports.coords=s.slice(0)},function(t,e){t.exports=function(t,e){return"number"==typeof t?(e=t,function(t){return e*Math.pow(2,(12*t[0]+7*t[1])/12)}):(e=e||440,e*Math.pow(2,(12*t[0]+7*t[1])/12))}},function(t,e,i){var n=i(13),o=i(12);t.exports=function(t){var e=/^([a-h])(x|#|bb|b?)(-?\d*)/i,i=t.match(e);if(i&&t===i[0]&&i[3].length){var r=i[1],s=+i[3],a=i[2].length?i[2].toLowerCase():"",h=o.interval(a),u=n(r.toLowerCase());return u[0]+=s,u[0]+=h[0]-n.A4[0],u[1]+=h[1]-n.A4[1],u}}},function(t,e,i){var n=i(33);"string"==typeof n&&(n=[[t.id,n,""]]);var o,r={};r.transform=o;i(4)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(34);"string"==typeof n&&(n=[[t.id,n,""]]);var o,r={};r.transform=o;i(4)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(35);"string"==typeof n&&(n=[[t.id,n,""]]);var o,r={};r.transform=o;i(4)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(36);"string"==typeof n&&(n=[[t.id,n,""]]);var o,r={};r.transform=o;i(4)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(37);"string"==typeof n&&(n=[[t.id,n,""]]);var o,r={};r.transform=o;i(4)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(38);"string"==typeof n&&(n=[[t.id,n,""]]);var o,r={};r.transform=o;i(4)(n,r);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/"),o=t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return t;var r;return r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"});return o}},function(t,e,i){function n(t,e){if("string"==typeof t)return u.toCoord(t);if("string"==typeof e&&t instanceof h)return u.from(t,u.toCoord(e));if(e instanceof u&&t instanceof h)return u.from(t,e);if(e instanceof h&&t instanceof h)return u.between(t,e);throw new Error("Invalid parameters")}function o(t,e){return"string"==typeof t?h.fromString(t,e):new h(t,e)}function r(t,e){if("string"==typeof t){var i,n;if(i=t.match(/^([a-h])(x|#|bb|b?)/i),i&&i[0])return n="number"==typeof e?e.toString(10):"4",new l(h.fromString(i[0].toLowerCase()+n),t.substr(i[0].length))}else if(t instanceof h)return new l(t,e);throw new Error("Invalid Chord. Couldn't find note name")}function s(t,e){return t=t instanceof h?t:a.note(t),new c(t,e)}var a,h=i(14),u=i(6),l=i(53),c=i(54);n.toCoord=u.toCoord,n.from=u.from,n.between=u.between,n.invert=u.invert,o.fromString=h.fromString,o.fromKey=h.fromKey,o.fromFrequency=h.fromFrequency,o.fromMIDI=h.fromMIDI,a={note:o,chord:r,interval:n,scale:s,Note:h,Chord:l,Scale:c,Interval:u},i(55)(a),e=t.exports=a},function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t,e);e=e||"",this.name=t.name().toUpperCase()+t.accidental()+e,this.symbol=e,this.root=t,this.intervals=[],this._voicing=[];var i=e.split("/");if(2===i.length&&"9"!==i[1].trim()?(e=i[0],i=i[1].trim()):i=null,this.intervals=o(e).map(a.toCoord),this._voicing=this.intervals.slice(),i){var r,h,u=this.intervals;h=s.fromString(i+(t.octave()+1)),r=a.between(t,h),i=r.simple(),r=r.invert().direction("down"),this._voicing=[r];for(var l=0,c=u.length;l<c;l++)u[l].simple().equal(i)||this._voicing.push(u[l])}}var o=i(39),r=i(5),s=i(14),a=i(6);n.prototype={notes:function(){var t=this.root;return this.voicing().map(function(e){return t.interval(e)})},simple:function(){return this.notes().map(function(t){return t.toString(!0)})},bass:function(){return this.root.interval(this._voicing[0])},voicing:function(t){if(!t)return this._voicing;this._voicing=[];for(var e=0,i=t.length;e<i;e++)this._voicing[e]=a.toCoord(t[e]);return this},resetVoicing:function(){this._voicing=this.intervals},dominant:function(t){return t=t||"",new n(this.root.interval("P5"),t)},subdominant:function(t){return t=t||"",new n(this.root.interval("P4"),t)},parallel:function(t){t=t||"";var e=this.quality();if("triad"!==this.chordType()||"diminished"===e||"augmented"===e)throw new Error("Only major/minor triads have parallel chords");return"major"===e?new n(this.root.interval("m3","down"),"m"):new n(this.root.interval("m3","up"))},quality:function(){for(var t,e,i,n=this.intervals,o=0,r=n.length;o<r;o++)3===n[o].number()?t=n[o]:5===n[o].number()?e=n[o]:7===n[o].number()&&(i=n[o]);if(t)return t="down"===t.direction()?t.invert():t,t=t.simple().toString(),e&&(e="down"===e.direction?e.invert():e,e=e.simple().toString()),i&&(i="down"===i.direction?i.invert():i,i=i.simple().toString()),"M3"===t?"A5"===e?"augmented":"P5"===e&&"m7"===i?"dominant":"major":"m3"===t?"P5"===e?"minor":"d5"===e?"m7"===i?"half-diminished":"diminished":"minor":void 0},chordType:function(){var t,e,i,n,o,r=this.intervals.length;if(2===r)return"dyad";if(3===r){for(e={unison:!1,third:!1,fifth:!1},n=0;n<r;n++)t=this.intervals[n],i=t.invert(),t.base()in e?e[t.base()]=!0:i.base()in e&&(e[i.base()]=!0);o=e.unison&&e.third&&e.fifth?"triad":"trichord"}else if(4===r){for(e={unison:!1,third:!1,fifth:!1,seventh:!1},n=0;n<r;n++)t=this.intervals[n],i=t.invert(),t.base()in e?e[t.base()]=!0:i.base()in e&&(e[i.base()]=!0);e.unison&&e.third&&e.fifth&&e.seventh&&(o="tetrad")}return o||"unknown"},get:function(t){if("string"==typeof t&&t in r.stepNumber){var e,i,n=this.intervals;for(t=r.stepNumber[t],e=0,i=n.length;e<i;e++)if(n[e].number()===t)return this.root.interval(n[e]);return null}throw new Error("Invalid interval name")},interval:function(t){return new n(this.root.interval(t),this.symbol)},transpose:function(t){return this.root.transpose(t),this.name=this.root.name().toUpperCase()+this.root.accidental()+this.symbol,this},toString:function(){return this.name}},t.exports=n},function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t,e);var i,o;if(!("coord"in t))throw new Error("Invalid Tonic");if("string"==typeof e){if(i=e,e=s[e],!e)throw new Error("Invalid Scale")}else for(o in s)if(s.hasOwnProperty(o)&&s[o].toString()===e.toString()){i=o;break}this.name=i,this.tonic=t,this.scale=e}var o=i(5),r=i(6),s={aeolian:["P1","M2","m3","P4","P5","m6","m7"],blues:["P1","m3","P4","d5","P5","m7"],chromatic:["P1","m2","M2","m3","M3","P4","A4","P5","m6","M6","m7","M7"],dorian:["P1","M2","m3","P4","P5","M6","m7"],doubleharmonic:["P1","m2","M3","P4","P5","m6","M7"],harmonicminor:["P1","M2","m3","P4","P5","m6","M7"],ionian:["P1","M2","M3","P4","P5","M6","M7"],locrian:["P1","m2","m3","P4","d5","m6","m7"],lydian:["P1","M2","M3","A4","P5","M6","M7"],majorpentatonic:["P1","M2","M3","P5","M6"],melodicminor:["P1","M2","m3","P4","P5","M6","M7"],minorpentatonic:["P1","m3","P4","P5","m7"],mixolydian:["P1","M2","M3","P4","P5","M6","m7"],phrygian:["P1","m2","m3","P4","P5","m6","m7"],wholetone:["P1","M2","M3","A4","A5","A6"]};s.harmonicchromatic=s.chromatic,s.minor=s.aeolian,s.major=s.ionian,s.flamenco=s.doubleharmonic,n.prototype={notes:function(){for(var t=[],e=0,i=this.scale.length;e<i;e++)t.push(this.tonic.interval(this.scale[e]));return t},simple:function(){return this.notes().map(function(t){return t.toString(!0)})},type:function(){var t=this.scale.length-2;if(t<8)return["di","tri","tetra","penta","hexa","hepta","octa"][t]+"tonic"},get:function(t){var e="string"==typeof t&&t in o.stepNumber;t=e?o.stepNumber[t]:t;var i,n,s=this.scale.length;return t<0?(i=this.scale[t%s+s-1],n=Math.floor((t-1)/s)):t%s===0?(i=this.scale[s-1],n=t/s-1):(i=this.scale[t%s-1],n=Math.floor(t/s)),this.tonic.interval(i).interval(new r([n,0]))},solfege:function(t,e){return t?this.get(t).solfege(this,e):this.notes().map(function(t){return t.solfege(this,e)})},interval:function(t){return t="string"==typeof t?r.toCoord(t):t,new n(this.tonic.interval(t),this.scale)},transpose:function(t){var e=this.interval(t);return this.scale=e.scale,this.tonic=e.tonic,this}},n.KNOWN_SCALES=Object.keys(s),t.exports=n},function(t,e,i){var n=i(5);t.exports=function(t){var e=t.Note,i=t.Chord,o=t.Scale;e.prototype.chord=function(t){var e=t in n.chordShort;return t=e?n.chordShort[t]:t,new i(this,t)},e.prototype.scale=function(t){return new o(this,t)}}},function(t,e,i){var n,o;n=[i(1),i(20),i(7)],o=function(t){"use strict";return t.Volume=function(){var e=this.optionsObject(arguments,["volume"],t.Volume.defaults);this.output=this.input=new t.Gain(e.volume,t.Type.Decibels),this.volume=this.output.gain,this._readOnly("volume")},t.extend(t.Volume),t.Volume.defaults={volume:0},t.Volume.prototype.dispose=function(){return this.input.dispose(),t.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this},t.Volume}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(16)],o=function(t){"use strict";return t.Buffer=function(){var e=this.optionsObject(arguments,["url","onload"],t.Buffer.defaults);this._buffer=null,this._reversed=e.reverse,this.url=void 0,this.loaded=!1,this.onload=e.onload.bind(this,this),e.url instanceof AudioBuffer||e.url instanceof t.Buffer?(this.set(e.url),this.onload(this)):this.isString(e.url)&&(this.url=e.url,t.Buffer._addToQueue(e.url,this))},t.extend(t.Buffer),t.Buffer.defaults={url:void 0,onload:t.noOp,reverse:!1},t.Buffer.prototype.set=function(e){return e instanceof t.Buffer?this._buffer=e.get():this._buffer=e,this.loaded=!0,this},t.Buffer.prototype.get=function(){return this._buffer},t.Buffer.prototype.load=function(e,i){return this.url=e,this.onload=this.defaultArg(i,this.onload),t.Buffer._addToQueue(e,this),this},t.Buffer.prototype.dispose=function(){return t.prototype.dispose.call(this),t.Buffer._removeFromQueue(this),this._buffer=null,this.onload=t.Buffer.defaults.onload,this},Object.defineProperty(t.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}}),t.Buffer.prototype._reverse=function(){if(this.loaded)for(var t=0;t<this._buffer.numberOfChannels;t++)Array.prototype.reverse.call(this._buffer.getChannelData(t));return this},Object.defineProperty(t.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(t){this._reversed!==t&&(this._reversed=t,this._reverse())}}),t.Emitter.mixin(t.Buffer),t.Buffer._queue=[],t.Buffer._currentDownloads=[],t.Buffer._totalDownloads=0,t.Buffer.MAX_SIMULTANEOUS_DOWNLOADS=6,t.Buffer._addToQueue=function(e,i){t.Buffer._queue.push({url:e,Buffer:i,progress:0,xhr:null}),this._totalDownloads++,t.Buffer._next()},t.Buffer._removeFromQueue=function(e){var i;for(i=0;i<t.Buffer._queue.length;i++){var n=t.Buffer._queue[i];n.Buffer===e&&t.Buffer._queue.splice(i,1)}for(i=0;i<t.Buffer._currentDownloads.length;i++){var o=t.Buffer._currentDownloads[i];o.Buffer===e&&(t.Buffer._currentDownloads.splice(i,1),o.xhr.abort(),o.xhr.onprogress=null,o.xhr.onload=null,o.xhr.onerror=null)}},t.Buffer._next=function(){if(t.Buffer._queue.length>0){if(t.Buffer._currentDownloads.length<t.Buffer.MAX_SIMULTANEOUS_DOWNLOADS){var e=t.Buffer._queue.shift();t.Buffer._currentDownloads.push(e),e.xhr=t.Buffer.load(e.url,function(i){var n=t.Buffer._currentDownloads.indexOf(e);t.Buffer._currentDownloads.splice(n,1),e.Buffer.set(i),e.Buffer._reversed&&e.Buffer._reverse(),e.Buffer.onload(e.Buffer),t.Buffer._onprogress(),t.Buffer._next()}),e.xhr.onprogress=function(i){e.progress=i.loaded/i.total,t.Buffer._onprogress()},e.xhr.onerror=function(e){t.Buffer.trigger("error",e)}}}else 0===t.Buffer._currentDownloads.length&&(t.Buffer.trigger("load"),t.Buffer._totalDownloads=0)},t.Buffer._onprogress=function(){var e=0,i=t.Buffer._currentDownloads.length,n=0;if(i>0){for(var o=0;o<i;o++){var r=t.Buffer._currentDownloads[o];e+=r.progress}n=e}var s=i-n,a=t.Buffer._totalDownloads-t.Buffer._queue.length-s;t.Buffer.trigger("progress",a/t.Buffer._totalDownloads)},t.Buffer.load=function(e,i){var n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){t.context.decodeAudioData(n.response,function(t){if(!t)throw new Error("could not decode audio data:"+e);i(t)})},n.send(),n},t.Buffer}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(64),i(19)],o=function(t){"use strict";return t.Clock=function(){var e=this.optionsObject(arguments,["callback","frequency"],t.Clock.defaults);this.callback=e.callback,this._lookAhead="auto",this._computedLookAhead=1/60,this._threshold=.5,this._nextTick=-1,this._lastUpdate=0,this._loopID=-1,this.frequency=new t.TimelineSignal(e.frequency,t.Type.Frequency),this.ticks=0,this._state=new t.TimelineState(t.State.Stopped),this._boundLoop=this._loop.bind(this),this._readOnly("frequency"),this._loop()},t.extend(t.Clock),t.Clock.defaults={callback:t.noOp,frequency:1,lookAhead:"auto"},Object.defineProperty(t.Clock.prototype,"state",{get:function(){return this._state.getStateAtTime(this.now())}}),Object.defineProperty(t.Clock.prototype,"lookAhead",{get:function(){return this._lookAhead},set:function(t){"auto"===t?this._lookAhead="auto":this._lookAhead=this.toSeconds(t)}}),t.Clock.prototype.start=function(e,i){return e=this.toSeconds(e),this._state.getStateAtTime(e)!==t.State.Started&&this._state.addEvent({state:t.State.Started,time:e,offset:i}),this},t.Clock.prototype.stop=function(e){return e=this.toSeconds(e),this._state.getStateAtTime(e)!==t.State.Stopped&&this._state.setStateAtTime(t.State.Stopped,e),this},t.Clock.prototype.pause=function(e){return e=this.toSeconds(e),this._state.getStateAtTime(e)===t.State.Started&&this._state.setStateAtTime(t.State.Paused,e),this},t.Clock.prototype._loop=function(e){if(this._loopID=requestAnimationFrame(this._boundLoop),"auto"===this._lookAhead){if(!this.isUndef(e)){var i=(e-this._lastUpdate)/1e3;this._lastUpdate=e,i<this._threshold&&(this._computedLookAhead=(9*this._computedLookAhead+i)/10)}}else this._computedLookAhead=this._lookAhead;var n=this.now(),o=2*this._computedLookAhead,r=this._state.getEvent(n+o),s=t.State.Stopped;if(r&&(s=r.state,this._nextTick===-1&&s===t.State.Started&&(this._nextTick=r.time,this.isUndef(r.offset)||(this.ticks=r.offset))),s===t.State.Started)for(;n+o>this._nextTick;){n>this._nextTick+this._threshold&&(this._nextTick=n);var a=this._nextTick;this._nextTick+=1/this.frequency.getValueAtTime(this._nextTick),this.callback(a),this.ticks++}else s===t.State.Stopped&&(this._nextTick=-1,this.ticks=0)},t.Clock.prototype.getStateAtTime=function(t){return this._state.getStateAtTime(t)},t.Clock.prototype.dispose=function(){cancelAnimationFrame(this._loopID),t.TimelineState.prototype.dispose.call(this),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=t.noOp,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},t.Clock}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(2)],o=function(t){"use strict";t.IntervalTimeline=function(){this._root=null,this._length=0},t.extend(t.IntervalTimeline),t.IntervalTimeline.prototype.addEvent=function(t){if(this.isUndef(t.time)||this.isUndef(t.duration))throw new Error("events must have time and duration parameters");var i=new e(t.time,t.time+t.duration,t);for(null===this._root?this._root=i:this._root.insert(i),this._length++;null!==i;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this},t.IntervalTimeline.prototype.removeEvent=function(t){if(null!==this._root){var e=[];this._root.search(t.time,e);for(var i=0;i<e.length;i++){var n=e[i];if(n.event===t){this._removeNode(n),this._length--;break}}}return this},Object.defineProperty(t.IntervalTimeline.prototype,"length",{get:function(){return this._length}}),t.IntervalTimeline.prototype.cancel=function(t){return t=this.toSeconds(t),this.forEachAfter(t,function(t){this.removeEvent(t)}.bind(this)),this},t.IntervalTimeline.prototype._setRoot=function(t){this._root=t,null!==this._root&&(this._root.parent=null)},t.IntervalTimeline.prototype._replaceNodeInParent=function(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)},t.IntervalTimeline.prototype._removeNode=function(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{var e,i,n=t.getBalance();if(n>0)if(null===t.left.right)e=t.left,e.right=t.right,i=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent.right=e.left,i=e.parent,e.left=t.left,e.right=t.right}else if(null===t.right.left)e=t.right,e.left=t.left,i=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent=e.parent,e.parent.left=e.right,i=e.parent,e.left=t.left,e.right=t.right}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),this._rebalance(i)}t.dispose()},t.IntervalTimeline.prototype._rotateLeft=function(t){var e=t.parent,i=t.isLeftChild(),n=t.right;t.right=n.left,n.left=t,null!==e?i?e.left=n:e.right=n:this._setRoot(n)},t.IntervalTimeline.prototype._rotateRight=function(t){var e=t.parent,i=t.isLeftChild(),n=t.left;t.left=n.right,n.right=t,null!==e?i?e.left=n:e.right=n:this._setRoot(n)},t.IntervalTimeline.prototype._rebalance=function(t){var e=t.getBalance();e>1?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))},t.IntervalTimeline.prototype.getEvent=function(t){if(null!==this._root){var e=[];if(this._root.search(t,e),e.length>0){for(var i=e[0],n=1;n<e.length;n++)e[n].low>i.low&&(i=e[n]);return i.event}}return null},t.IntervalTimeline.prototype.forEach=function(t){if(null!==this._root){var e=[];null!==this._root&&this._root.traverse(function(t){e.push(t)});for(var i=0;i<e.length;i++){var n=e[i].event;n&&t(n)}}return this},t.IntervalTimeline.prototype.forEachOverlap=function(t,e){if(t=this.toSeconds(t),null!==this._root){var i=[];this._root.search(t,i);for(var n=i.length-1;n>=0;n--){var o=i[n].event;o&&e(o)}}return this},t.IntervalTimeline.prototype.forEachAfter=function(t,e){if(t=this.toSeconds(t),null!==this._root){var i=[];this._root.searchAfter(t,i);for(var n=i.length-1;n>=0;n--){var o=i[n].event;o&&e(o)}}return this},t.IntervalTimeline.prototype.dispose=function(){var t=[];null!==this._root&&this._root.traverse(function(e){t.push(e)});for(var e=0;e<t.length;e++)t[e].dispose();return t=null,this._root=null,this};var e=function(t,e,i){this.event=i,this.low=t,this.high=e,this.max=this.high,this._left=null,this._right=null,this.parent=null,this.height=0};return e.prototype.insert=function(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)},e.prototype.search=function(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>=t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))},e.prototype.searchAfter=function(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)},e.prototype.traverse=function(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)},e.prototype.updateHeight=function(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0},e.prototype.updateMax=function(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))},e.prototype.getBalance=function(){var t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t},e.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this},Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),e.prototype.dispose=function(){this.parent=null,this._left=null,this._right=null,this.event=null},t.IntervalTimeline}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(8),i(2),i(19)],o=function(t){"use strict";return t.Event=function(){var e=this.optionsObject(arguments,["callback","value"],t.Event.defaults);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._state=new t.TimelineState(t.State.Stopped),this._playbackRate=1,this._startOffset=0,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate},t.extend(t.Event),t.Event.defaults={callback:t.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1},t.Event.prototype._rescheduleEvents=function(e){return e=this.defaultArg(e,-1),this._state.forEachFrom(e,function(e){var i;if(e.state===t.State.Started){this.isUndef(e.id)||t.Transport.clear(e.id);var n=e.time+Math.round(this.startOffset/this._playbackRate);if(this._loop){i=1/0,this.isNumber(this._loop)&&(i=(this._loop-1)*this._getLoopDuration());var o=this._state.getEventAfter(n);null!==o&&(i=Math.min(i,o.time-n)),i!==1/0&&(this._state.setStateAtTime(t.State.Stopped,n+i+1),i+="i"),e.id=t.Transport.scheduleRepeat(this._tick.bind(this),this._getLoopDuration().toString()+"i",n+"i",i)}else e.id=t.Transport.schedule(this._tick.bind(this),n+"i")}}.bind(this)),this},Object.defineProperty(t.Event.prototype,"state",{get:function(){return this._state.getStateAtTime(t.Transport.ticks)}}),Object.defineProperty(t.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t}}),t.Event.prototype.start=function(e){return e=this.toTicks(e),this._state.getStateAtTime(e)===t.State.Stopped&&(this._state.addEvent({state:t.State.Started,time:e,id:void 0}),this._rescheduleEvents(e)),this},t.Event.prototype.stop=function(e){if(this.cancel(e),e=this.toTicks(e),this._state.getStateAtTime(e)===t.State.Started){this._state.setStateAtTime(t.State.Stopped,e);var i=this._state.getEventBefore(e),n=e;null!==i&&(n=i.time),this._rescheduleEvents(n)}return this},t.Event.prototype.cancel=function(e){return e=this.defaultArg(e,-(1/0)),e=this.toTicks(e),this._state.forEachFrom(e,function(e){t.Transport.clear(e.id)}),this._state.cancel(e),this},t.Event.prototype._tick=function(e){if(!this.mute&&this._state.getStateAtTime(t.Transport.ticks)===t.State.Started){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){var i=.02;this.isBoolean(this.humanize)||(i=this.toSeconds(this.humanize)),e+=(2*Math.random()-1)*i}this.callback(e,this.value)}},t.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)},Object.defineProperty(t.Event.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"loopEnd",{get:function(){return this.toNotation(this._loopEnd+"i")},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"loopStart",{get:function(){return this.toNotation(this._loopStart+"i")},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"progress",{get:function(){if(this._loop){var e=t.Transport.ticks,i=this._state.getEvent(e);if(null!==i&&i.state===t.State.Started){var n=this._getLoopDuration(),o=(e-i.time)%n;return o/n}return 0}return 0}}),t.Event.prototype.dispose=function(){this.cancel(),this._state.dispose(),this._state=null,this.callback=null,this.value=null},t.Event}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(60),i(2),i(8)],o=function(t){"use strict";return t.Part=function(){var e=this.optionsObject(arguments,["callback","events"],t.Part.defaults);this._loop=e.loop,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this._startOffset=0,this._state=new t.TimelineState(t.State.Stopped),this._events=[],this.callback=e.callback,this.mute=e.mute;var i=this.defaultArg(e.events,[]);if(!this.isUndef(e.events))for(var n=0;n<i.length;n++)Array.isArray(i[n])?this.add(i[n][0],i[n][1]):this.add(i[n])},t.extend(t.Part,t.Event),t.Part.defaults={callback:t.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1},t.Part.prototype.start=function(e,i){var n=this.toTicks(e);return this._state.getStateAtTime(n)!==t.State.Started&&(i=this._loop?this.defaultArg(i,this._loopStart):this.defaultArg(i,0),i=this.toTicks(i),this._state.addEvent({state:t.State.Started,time:n,offset:i}),this._forEach(function(t){this._startNote(t,n,i)})),this},t.Part.prototype._startNote=function(t,e,i){e-=i,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<i&&(e+=this._getLoopDuration()),t.start(e+"i")):t.startOffset<this._loopStart&&t.startOffset>=i&&(t.loop=!1,t.start(e+"i")):t.startOffset>=i&&t.start(e+"i")},Object.defineProperty(t.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t,this._forEach(function(t){t.startOffset+=this._startOffset})}}),t.Part.prototype.stop=function(e){var i=this.toTicks(e);return this._state.getStateAtTime(i)===t.State.Started&&(this._state.setStateAtTime(t.State.Stopped,i),this._forEach(function(t){t.stop(e)})),this},t.Part.prototype.at=function(t,e){t=this.toTicks(t);for(var i=this.ticksToSeconds(1),n=0;n<this._events.length;n++){var o=this._events[n];if(Math.abs(t-o.startOffset)<i)return this.isUndef(e)||(o.value=e),o}return this.isUndef(e)?null:(this.add(t+"i",e),this._events[this._events.length-1])},t.Part.prototype.add=function(e,i){this.isObject(e)&&e.hasOwnProperty("time")&&(i=e,e=i.time,delete i.time),e=this.toTicks(e);var n;return i instanceof t.Event?(n=i,n.callback=this._tick.bind(this)):n=new t.Event({callback:this._tick.bind(this),value:i}),n.startOffset=e,n.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(n),this._restartEvent(n),this},t.Part.prototype._restartEvent=function(e){var i=this._state.getEvent(this.now());i&&i.state===t.State.Started&&this._startNote(e,i.time,i.offset)},t.Part.prototype.remove=function(e,i){this.isObject(e)&&e.hasOwnProperty("time")&&(i=e,e=i.time),e=this.toTicks(e);for(var n=this._events.length-1;n>=0;n--){var o=this._events[n];o instanceof t.Part?o.remove(e,i):o.startOffset===e&&(this.isUndef(i)||!this.isUndef(i)&&o.value===i)&&(this._events.splice(n,1),o.dispose())}return this},t.Part.prototype.removeAll=function(){return this._forEach(function(t){t.dispose()}),this._events=[],this},t.Part.prototype.cancel=function(t){return this._forEach(function(e){e.cancel(t)}),this._state.cancel(t),this},t.Part.prototype._forEach=function(e,i){i=this.defaultArg(i,this);for(var n=this._events.length-1;n>=0;n--){var o=this._events[n];o instanceof t.Part?o._forEach(e,i):e.call(i,o)}return this},t.Part.prototype._setAll=function(t,e){this._forEach(function(i){i[t]=e})},t.Part.prototype._tick=function(t,e){this.mute||this.callback(t,e)},t.Part.prototype._testLoopBoundries=function(e){e.startOffset<this._loopStart||e.startOffset>=this._loopEnd?e.cancel():e.state===t.State.Stopped&&this._restartEvent(e)},Object.defineProperty(t.Part.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t,this._setAll("probability",t)}}),Object.defineProperty(t.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t,this._setAll("humanize",t)}}),Object.defineProperty(t.Part.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._forEach(function(e){e._loopStart=this._loopStart,e._loopEnd=this._loopEnd,e.loop=t,this._testLoopBoundries(e)})}}),Object.defineProperty(t.Part.prototype,"loopEnd",{get:function(){return this.toNotation(this._loopEnd+"i")},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach(function(t){t.loopEnd=this.loopEnd,this._testLoopBoundries(t)})}}),Object.defineProperty(t.Part.prototype,"loopStart",{get:function(){return this.toNotation(this._loopStart+"i")},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(function(t){t.loopStart=this.loopStart,this._testLoopBoundries(t)})}}),Object.defineProperty(t.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._setAll("playbackRate",t)}}),Object.defineProperty(t.Part.prototype,"length",{get:function(){return this._events.length}}),t.Part.prototype.dispose=function(){return this.removeAll(),this._state.dispose(),this._state=null,this.callback=null,this._events=null,this},t.Part}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(61),i(8)],o=function(t){"use strict";return t.Sequence=function(){var e=this.optionsObject(arguments,["callback","events","subdivision"],t.Sequence.defaults),i=e.events;if(delete e.events,t.Part.call(this,e),this._subdivision=this.toTicks(e.subdivision),this.isUndef(e.loopEnd)&&!this.isUndef(i)&&(this._loopEnd=i.length*this._subdivision),this._loop=!0,!this.isUndef(i))for(var n=0;n<i.length;n++)this.add(n,i[n])},t.extend(t.Sequence,t.Part),t.Sequence.defaults={subdivision:"4n"},Object.defineProperty(t.Sequence.prototype,"subdivision",{get:function(){return this.toNotation(this._subdivision+"i")}}),t.Sequence.prototype.at=function(e,i){return this.isArray(i)&&this.remove(e),t.Part.prototype.at.call(this,this._indexTime(e),i)},t.Sequence.prototype.add=function(e,i){if(null===i)return this;if(this.isArray(i)){var n=Math.round(this._subdivision/i.length)+"i";i=new t.Sequence(this._tick.bind(this),i,n)}return t.Part.prototype.add.call(this,this._indexTime(e),i),this},t.Sequence.prototype.remove=function(e,i){return t.Part.prototype.remove.call(this,this._indexTime(e),i),this},t.Sequence.prototype._indexTime=function(t){
return this.isTicks(t)?t:t*this._subdivision+this.startOffset+"i"},t.Sequence.prototype.dispose=function(){return t.Part.prototype.dispose.call(this),this},t.Sequence}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1)],o=function(t){"use strict";return t.SignalBase=function(){},t.extend(t.SignalBase),t.SignalBase.prototype.connect=function(e,i,n){return t.Signal&&t.Signal===e.constructor||t.Param&&t.Param===e.constructor||t.TimelineSignal&&t.TimelineSignal===e.constructor?(e._param.cancelScheduledValues(0),e._param.value=0,e.overridden=!0):e instanceof AudioParam&&(e.cancelScheduledValues(0),e.value=0),t.prototype.connect.call(this,e,i,n),this},t.SignalBase}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(20),i(10)],o=function(t){"use strict";return t.TimelineSignal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);t.Signal.apply(this,e),e.param=this._param,t.Param.call(this,e),this._events=new t.Timeline(10),this._initial=this._fromUnits(this._param.value)},t.extend(t.TimelineSignal,t.Param),t.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Set:"set"},Object.defineProperty(t.TimelineSignal.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(t){var e=this._fromUnits(t);this._initial=e,this._param.value=e}}),t.TimelineSignal.prototype.setValueAtTime=function(e,i){return e=this._fromUnits(e),i=this.toSeconds(i),this._events.addEvent({type:t.TimelineSignal.Type.Set,value:e,time:i}),this._param.setValueAtTime(e,i),this},t.TimelineSignal.prototype.linearRampToValueAtTime=function(e,i){return e=this._fromUnits(e),i=this.toSeconds(i),this._events.addEvent({type:t.TimelineSignal.Type.Linear,value:e,time:i}),this._param.linearRampToValueAtTime(e,i),this},t.TimelineSignal.prototype.exponentialRampToValueAtTime=function(e,i){var n=this._searchBefore(i);n&&0===n.value&&this.setValueAtTime(this._minOutput,n.time),e=this._fromUnits(e);var o=Math.max(e,this._minOutput);return i=this.toSeconds(i),this._events.addEvent({type:t.TimelineSignal.Type.Exponential,value:o,time:i}),e<this._minOutput?(this._param.exponentialRampToValueAtTime(this._minOutput,i-1/t.context.sampleRate),this.setValueAtTime(0,i)):this._param.exponentialRampToValueAtTime(e,i),this},t.TimelineSignal.prototype.setTargetAtTime=function(e,i,n){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),n=Math.max(this._minOutput,n),i=this.toSeconds(i),this._events.addEvent({type:t.TimelineSignal.Type.Target,value:e,time:i,constant:n}),this._param.setTargetAtTime(e,i,n),this},t.TimelineSignal.prototype.cancelScheduledValues=function(t){return this._events.cancel(t),this._param.cancelScheduledValues(this.toSeconds(t)),this},t.TimelineSignal.prototype.setRampPoint=function(e){e=this.toSeconds(e);var i=this.getValueAtTime(e),n=this._searchBefore(e);if(n&&n.time===e)this.cancelScheduledValues(e+this.sampleTime);else{var o=this._searchAfter(e);o&&(this.cancelScheduledValues(e),o.type===t.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(i,e):o.type===t.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(i,e)),this.setValueAtTime(i,e)}return this},t.TimelineSignal.prototype.linearRampToValueBetween=function(t,e,i){return this.setRampPoint(e),this.linearRampToValueAtTime(t,i),this},t.TimelineSignal.prototype.exponentialRampToValueBetween=function(t,e,i){return this.setRampPoint(e),this.exponentialRampToValueAtTime(t,i),this},t.TimelineSignal.prototype._searchBefore=function(t){return this._events.getEvent(t)},t.TimelineSignal.prototype._searchAfter=function(t){return this._events.getEventAfter(t)},t.TimelineSignal.prototype.getValueAtTime=function(e){var i=this._searchAfter(e),n=this._searchBefore(e),o=this._initial;if(null===n)o=this._initial;else if(n.type===t.TimelineSignal.Type.Target){var r,s=this._events.getEventBefore(n.time);r=null===s?this._initial:s.value,o=this._exponentialApproach(n.time,r,n.value,n.constant,e)}else o=null===i?n.value:i.type===t.TimelineSignal.Type.Linear?this._linearInterpolate(n.time,n.value,i.time,i.value,e):i.type===t.TimelineSignal.Type.Exponential?this._exponentialInterpolate(n.time,n.value,i.time,i.value,e):n.value;return o},t.TimelineSignal.prototype.connect=t.SignalBase.prototype.connect,t.TimelineSignal.prototype._exponentialApproach=function(t,e,i,n,o){return i+(e-i)*Math.exp(-(o-t)/n)},t.TimelineSignal.prototype._linearInterpolate=function(t,e,i,n,o){return e+(n-e)*((o-t)/(i-t))},t.TimelineSignal.prototype._exponentialInterpolate=function(t,e,i,n,o){return e=Math.max(this._minOutput,e),e*Math.pow(n/e,(o-t)/(i-t))},t.TimelineSignal.prototype.dispose=function(){t.Signal.prototype.dispose.call(this),t.Param.prototype.dispose.call(this),this._events.dispose(),this._events=null},t.TimelineSignal}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(63)],o=function(t){"use strict";return t.WaveShaper=function(t,e){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||this.isUndef(t)?this._curve=new Float32Array(this.defaultArg(t,1024)):this.isFunction(t)&&(this._curve=new Float32Array(this.defaultArg(e,1024)),this.setMap(t))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(t){for(var e=0,i=this._curve.length;e<i;e++){var n=e/i*2-1;this._curve[e]=t(n,e)}return this._shaper.curve=this._curve,this},Object.defineProperty(t.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(t.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(["none","2x","4x"].indexOf(t)===-1)throw new Error("invalid oversampling: "+t);this._shaper.oversample=t}}),t.WaveShaper.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},t.WaveShaper}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(1),i(7),i(17)],o=function(t){return t.MultiPlayer=function(e){t.call(this,0,1),this._buffers={},this._sourceOutput=new t.Gain,this._sourceOutput.connect(this.output),this.isObject(e)&&this.addBuffer(e),this.output.channelCount=2,this.output.channelCountMode="explicit"},t.extend(t.MultiPlayer),t.MultiPlayer.prototype.start=function(t,e,i){if(i=this.defaultArg(i,{playbackRate:1,gain:1,offset:0,attack:0,release:0}),this._buffers.hasOwnProperty(t)){var n=this._buffers[t],o=this.context.createBufferSource();o.buffer=n.get();var r=this.context.createGain();if(o.connect(r),r.connect(this._sourceOutput),o.playbackRate.value=i.playbackRate,e=this.toSeconds(e),o.start(e,i.offset),0!==i.attack?(r.gain.setValueAtTime(0,e),r.gain.linearRampToValueAtTime(i.gain,e+this.toSeconds(i.attack))):r.gain.setValueAtTime(i.gain,e),!this.isUndef(i.duration)){var s=this.toSeconds(i.duration,n.duration),a=this.toSeconds(i.release);r.gain.setValueAtTime(i.gain,e+s),r.gain.linearRampToValueAtTime(0,e+s+a),o.stop(e+s+a)}}return this},t.MultiPlayer.prototype.stopAll=function(e,i){return e=this.toSeconds(e),i=this.defaultArg(i,.01),i=this.toSeconds(i),this._sourceOutput.gain.setValueAtTime(1,e),this._sourceOutput.gain.linearRampToValueAtTime(0,e+i),this._sourceOutput=(new t.Gain).connect(this.output),this},t.MultiPlayer.prototype.addBuffer=function(e,i,n){function o(){r--,0===r&&this.isFunction(i)&&i()}var r=0;if(this.isObject(e))for(var s in e)r++,this.addBuffer(s,e[s],o);else i instanceof t.Buffer?this._buffers[e]=i:this._buffers[e]=new t.Buffer(i,n);return this},t.MultiPlayer.prototype.dispose=function(){this.stopAll(),t.prototype.dispose.call(this),this._sourceOutput.dispose(),this._sourceOutput=null;for(var e in this._buffers)this._buffers[e].dispose();return this._buffers=null,this},t.MultiPlayer}.apply(e,n),!(void 0!==o&&(t.exports=o))}]);